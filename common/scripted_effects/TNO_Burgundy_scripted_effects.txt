

##########################################################
######################## MONTHLY PULSE ###################
##########################################################

BRG_monthly_pulse_effect = {

	BRG_Domestic_Monthly_Pops_Update = yes

	BRG_Investigations_Monthly_Calculations = yes

	BRG_Domestic_GUI_Clamp = yes

	if = {
		limit = {
			has_country_flag = BRG_Revolt_Possible
			has_dynamic_modifier = {modifier = BRG_Political_Phase2_modifier}
		}
		BRG_Update_Political_Dynmod = yes
	}

	if = {
		limit = { BRG_Check_GP_Active = yes }
		BRG_supply_monthly_pulse = yes
	}

	if = {
		limit = { AND = { has_country_flag = BRG_Revolt_Possible NOT = { has_country_flag = BRG_Revolt_Happened } } }
			BRG_Revolt_Calculation = yes
	}
}

##########################################################
######################## DOMESTIC ########################
##########################################################



BRG_Revolt_Calculation = {
	 		if = {
				limit = { has_country_flag = Charlemagne_Revolting NOT = { has_country_flag = BRG_already_counted_charla } }
					add_to_variable = { BRG_Number_Of_Revolting_SS = 1 }
					set_country_flag = BRG_already_counted_charla
			}

			if = {
				limit = { has_country_flag = Walloon_Revolting NOT = { has_country_flag = BRG_already_counted_walloon } }
					add_to_variable = { BRG_Number_Of_Revolting_SS = 1 }
					set_country_flag = BRG_already_counted_walloon
			}

			if = {
				limit = { has_country_flag = Langemarck_Revolting NOT = { has_country_flag = BRG_already_counted_lange } }
					add_to_variable = { BRG_Number_Of_Revolting_SS = 1 }
					set_country_flag = BRG_already_counted_lange
			}

	if = {

	 		limit = {
				check_variable = { BRG_Number_Of_Revolting_SS > 1 }
				NOT = { has_country_flag = BRG_collapsed }
			}


			country_event = { id = BRG.1600 }

			set_country_flag = BRG_Revolt_Happened




			###################### CHARLA

			if = {
				limit = { has_country_flag = Charlemagne_Revolting }

				every_owned_state = {
					limit = { check_variable = {nationality = 123 } NOT = { state = 790 state = 792 state = 787 state = 786 } }
					PIC = {
						transfer_state = PREV
					}
				}
				every_unit_leader = { ###### Give the generals
					limit = {
						OR = {
							has_id = 307
							has_id = 308
							has_id = 309
							has_id = 310
							has_id = 311
							has_id = 312
							has_id = 313
						}
					}
					set_nationality = PIC
				}

				PIC = {        #### Give the States
					transfer_state = 18
					transfer_state = 29
					transfer_state = 15
					transfer_state = 791
					load_oob = "PIC_1962"
					if = {
						limit = {
						BRG = { has_country_flag = BRG_Charlemagne_Has_Nukes }
						}
					swap_ideas = {
					remove_idea = tno_nuclear_stockpile_none
					add_idea = tno_nuclear_stockpile_few
					}
				}
			}
			PIC = {
				every_owned_state = {
					limit = { check_variable = {nationality = 123 } }
					create_unit = {
						division = "name = \"Waffen-SS \" division_template = \"Waffen-SS\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = PIC
					}
					create_unit = {
					division = "name = \"Panzer-Division \" division_template = \"Panzer-Division\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = PIC
						}
					}
				}
		}
			###################### DEGRELLE

			if = {
				limit = { has_country_flag = Walloon_Revolting }
				BEL = {
					transfer_state = 34
					load_oob = "BEL_1962"
					if = {
						limit = {
					BRG = { has_country_flag = BRG_Walloon_Has_Nukes } #This has no instances just thought maybe you'd wanna put it somewhere?
						}
					swap_ideas = {
					remove_idea = tno_nuclear_stockpile_none
					add_idea = tno_nuclear_stockpile_few
						}
					}
				}
				every_unit_leader = { ###### Give the generals
					limit = {
						OR = {
							has_id = 303
						}
					}
					set_nationality = BEL
				}
			}

			###################### LANGE

			if = {
				limit = { has_country_flag = Langemarck_Revolting }

				FLR = {
					transfer_state = 6
					load_oob = "FLR_1962"
				every_unit_leader = { ###### Give the generals
					limit = {
						OR = {
							has_id = 314
						}
					}
					set_nationality = FLR
				}
				if = {
						limit = {
						BRG = { has_country_flag = BRG_Langemarck_Has_Nukes }
						}
					swap_ideas = {
					remove_idea = tno_nuclear_stockpile_none
					add_idea = tno_nuclear_stockpile_few
					}
				}
			}
		}


			################## RESISTANCE

			if = {
				limit = { check_variable = { BRG_Red_Poppy_National_Support > 89 } }

				15 = {
					set_province_name = { id = 11563 name = "Rouen" }
					set_province_name = { id = 9434 name = "Le Havre" }
				}
				RPY = {
					transfer_state = 15
					load_oob = "RPY_1962"
					add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 1400
					producer = BRG #stolen
				}
					if = {
						limit = {
						BRG = { has_country_flag = BRG_Red_Poppy_Has_Nukes } #This has no instances just thought maybe you'd wanna put it somewhere?
						}
					swap_ideas = {
					remove_idea = tno_nuclear_stockpile_none
					add_idea = tno_nuclear_stockpile_few
							}
						}
					}
				}
				########Special Interactions ### As to not fuck up the order of operations
					if = {
						limit = { has_country_flag = Langemarck_Revolting
						NOT = { has_country_flag = Walloon_Revolting }
							}
					FLR = {
							transfer_state = 6
					}
					34 = {
					create_unit = {
						division = "name = \"Waffen-SS \" division_template = \"Waffen-SS\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = FLR
					}
					create_unit = {
					division = "name = \"Panzer-Division \" division_template = \"Panzer-Division\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = FLR
						}
					create_unit = {
						division = "name = \"Waffen-SS \" division_template = \"Waffen-SS\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = FLR
					}
					create_unit = {
					division = "name = \"Panzer-Division \" division_template = \"Panzer-Division\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = FLR
						}
					}
				}
				if = {
						limit = { NOT = { has_country_flag = Langemarck_Revolting }
						has_country_flag = Walloon_Revolting
							}
					6 = {
					create_unit = {
						division = "name = \"Waffen-SS \" division_template = \"Waffen-SS\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = BEL
					}
					create_unit = {
					division = "name = \"Panzer-Division \" division_template = \"Panzer-Division\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = BEL
						}
					create_unit = {
						division = "name = \"Waffen-SS \" division_template = \"Waffen-SS\" start_experience_factor = 1 start_equipment_factor = 1"
						owner = BEL
					}
					create_unit = {
					division = "name = \"Panzer-Division \" division_template = \"Panzer-Division\" start_experience_factor = 1 start_equipment_factor = 1"
					owner = BEL
						}
					}
				}
			PIC = {
				declare_war_on = { target = BRG type = annex_everything }
			if = {
				limit = { BRG = { check_variable = { BRG_Red_Poppy_National_Support > 89 } } }
				declare_war_on = { target = RPY type = annex_everything }
				}
			if = {
				limit = { BRG = { has_country_flag = Walloon_Revolting } }
				declare_war_on = { target = BEL type = annex_everything }
				}
			if = {
				limit = { BRG = { has_country_flag = Langemarck_Revolting } }
				declare_war_on = { target = FLR type = annex_everything }
			}
		}
			RPY = {
				declare_war_on = { target = BRG type = annex_everything }
				declare_war_on = { target = PIC type = annex_everything }
				declare_war_on = { target = BEL type = annex_everything }
				declare_war_on = { target = FLR type = annex_everything }
			if = {
				limit = { BRG = { has_country_flag = Charlemagne_Revolting } }
				declare_war_on = { target = PIC type = annex_everything }
				}
			if = {
				limit = { BRG = { has_country_flag = Walloon_Revolting } }
				declare_war_on = { target = BEL type = annex_everything }
				}
			if = {
				limit = { BRG = { has_country_flag = Langemarck_Revolting } }
				declare_war_on = { target = FLR type = annex_everything }
				}
			}
			BEL = {
				declare_war_on = { target = BRG type = annex_everything }
				if = {
				limit = { BRG = { has_country_flag = Charlemagne_Revolting } }
				declare_war_on = { target = PIC type = annex_everything }
				}
			if = {
				limit = { BRG = { check_variable = { BRG_Red_Poppy_National_Support > 89 } } }
				declare_war_on = { target = RPY type = annex_everything }
				}
			if = {
				limit = { BRG = { has_country_flag = Langemarck_Revolting } }
				declare_war_on = { target = FLR type = annex_everything }
				}
			}
			BRG = {
			if = {
				limit = { BRG = { has_country_flag = Walloon_Revolting } }
				declare_war_on = { target = BEL type = annex_everything }
				}
			if = {
				limit = { BRG = { has_country_flag = Charlemagne_Revolting } }
				declare_war_on = { target = PIC type = annex_everything }
				}
			if = {
				limit = { BRG = { check_variable = { BRG_Red_Poppy_National_Support > 89 } } }
				declare_war_on = { target = RPY type = annex_everything }
				}
			if = {
				limit = { BRG = { has_country_flag = Langemarck_Revolting } }
				declare_war_on = { target = FLR type = annex_everything }
				}
			}
		set_country_flag = BRG_collapsed
		if = {
			limit = { has_country_flag = BRG_Famine_Begun }
			clr_country_flag = BRG_Famine_Begun
		}
		TNO_BRG_clear_all_GP_view_flags = yes
		set_variable = {BRG_GP_Wolf_Status_Var = 0}
		set_variable = {BRG_GP_Kondor_Status_Var = 0}
		set_variable = {BRG_GP_Adler_Status_Var = 0}
		set_variable = {BRG_GP_Lowe_Status_Var = 0}
		set_variable = {BRG_GP_Bar_Status_Var = 0}
		set_variable = {BRG_GP_Sonne_Status_Var = 0}
		set_variable = {BRG_GP_Drache_Status_Var = 0}
		set_variable = {BRG_GP_Puma_Status_Var = 0}
		TNO_BRG_domestic_tree_swap = yes
		}
}
BRG_Domestic_Monthly_Pops_Update = {

	add_to_variable = { BRG_Cops_National_Reserve = BRG_Cops_National_Reserve_Change_Value }

	#################### EDUCATION  ##########################

	if = {
		limit = { has_country_flag = BRG_Education_Crisis_Begun }

		set_variable = { BRG_Indoctrination_Monthly_Adder = BRG_National_Indoctrination }

		clamp_variable = {
			var = BRG_Indoctrination_Monthly_Adder
			min = 0
			max = 100
		}

		subtract_from_variable = { BRG_Indoctrination_Monthly_Adder = 50 }
		multiply_variable = { BRG_Indoctrination_Monthly_Adder = 0.1 }
		round_variable = BRG_Indoctrination_Monthly_Adder

		every_owned_state = {
		subtract_from_variable = { THIS.WalloonSupport = BRG_Indoctrination_Monthly_Adder }
		subtract_from_variable = { THIS.LangemarckSupport = BRG_Indoctrination_Monthly_Adder }
		subtract_from_variable = { THIS.CharlemagneSupport = BRG_Indoctrination_Monthly_Adder }
			}

		multiply_variable = { BRG_Indoctrination_Monthly_Adder = 15 }
		add_to_variable = { BRG_Cops_National_Reserve = BRG_Indoctrination_Monthly_Adder }
		clamp_variable = {
			var = BRG_National_Indoctrination
			min = 0
			max = 100
		}
	}

	set_variable = { BRG_last_months_food_balance = 0 } #Famine thing, not worth its own check

	##################### END EDUCATION ###################

	every_owned_state = {


		############# COPS STUFF ##########################

		set_variable = { THIS.BRG_Pop_Legion_And_Resistance_Calculation = 0 }

		set_variable = { THIS.BRG_Pop_Legion_And_Resistance_Calculation = THIS.BRG_Cops_Pop_State_Counter }

		multiply_variable = { THIS.BRG_Pop_Legion_And_Resistance_Calculation = THIS.BRG_Cop_To_Worker_Ratio }

		round_variable = THIS.BRG_Pop_Legion_And_Resistance_Calculation

		if = {
			limit = { check_variable =  { THIS.BRG_Pop_Legion_And_Resistance_Calculation > THIS.BRG_Skilled_Worker_Pop } }

			divide_variable = { THIS.BRG_Pop_Legion_And_Resistance_Calculation = THIS.BRG_Skilled_Worker_Pop }

			multiply_variable = { THIS.BRG_Pop_Legion_And_Resistance_Calculation = 3 }

			round_variable = THIS.BRG_Pop_Legion_And_Resistance_Calculation

			clamp_variable = {
				var = THIS.BRG_Pop_Legion_And_Resistance_Calculation
				min = -5
				max = 7
			}

			add_to_variable = { BRG_Red_Poppy_National_Support = BRG_Pop_Legion_And_Resistance_Calculation }

			add_to_variable = { THIS.HimmlerSupport = THIS.BRG_Pop_Legion_And_Resistance_Calculation } ## Add to Himmler

			subtract_from_variable = { THIS.WalloonSupport = THIS.BRG_Pop_Legion_And_Resistance_Calculation } ## subtracts from Walloon

			subtract_from_variable = { THIS.LangemarckSupport = THIS.BRG_Pop_Legion_And_Resistance_Calculation } ## subtracts from Lange

			subtract_from_variable  = { THIS.CharlemagneSupport = THIS.BRG_Pop_Legion_And_Resistance_Calculation } ## subtracts from Charla

			BRG_Domestic_GUI_Clamp = yes
		}


		else = {
			set_variable = { THIS.BRG_Worker_Pop_Division_Var = 0 }

			set_variable = { THIS.BRG_Worker_Pop_Division_Var = THIS.BRG_Skilled_Worker_Pop }

			divide_variable = { THIS.BRG_Worker_Pop_Division_Var = THIS.BRG_Pop_Legion_And_Resistance_Calculation }

			set_variable = { THIS.BRG_Pop_Legion_And_Resistance_Calculation = THIS.BRG_Worker_Pop_Division_Var }

			multiply_variable = { THIS.BRG_Pop_Legion_And_Resistance_Calculation = -3 }

			BRG_Domestic_GUI_Clamp = yes

			round_variable = THIS.BRG_Pop_Legion_And_Resistance_Calculation

			clamp_variable = {
				var = THIS.BRG_Pop_Legion_And_Resistance_Calculation
				min = -5
				max = 5
			}

			subtract_from_variable  = { BRG_Red_Poppy_National_Support = BRG_Pop_Legion_And_Resistance_Calculation }

			if = {
				limit = { state = 34 BRG = { NOT = { has_country_flag = BRG_walloon_dead } } }

					set_variable = { BRG_Pop_Walloon_Special_Case_Value = 0 }

					set_variable = { BRG_Pop_Walloon_Special_Case_Value = 34.BRG_Pop_Legion_And_Resistance_Calculation }

					clamp_variable = {
						var = 34.BRG_Pop_Legion_And_Resistance_Calculation
						min = -4
						max = 5
					}

					add_to_variable = { 34.HimmlerSupport = 34.BRG_Pop_Legion_And_Resistance_Calculation } ## Add to Himmler

					subtract_from_variable = { 34.LangemarckSupport = 34.BRG_Pop_Legion_And_Resistance_Calculation } ## subtracts from Lange

					if = {
						limit = { NOT = { BRG = { has_country_flag = BRG_charlemagne_dead } } }
						subtract_from_variable  = { 34.CharlemagneSupport = 34.BRG_Pop_Legion_And_Resistance_Calculation } ## subtracts from Charla
					}

					multiply_variable = { BRG_Pop_Walloon_Special_Case_Value = 1.5 }

					round_variable = BRG_Pop_Walloon_Special_Case_Value

					clamp_variable = {
						var = BRG_Pop_Walloon_Special_Case_Value
						min = -6
						max = 4
					}

					if = {
						limit = { NOT = { BRG = { has_country_flag = BRG_walloon_dead } } }
						subtract_from_variable = { 34.WalloonSupport = BRG_Pop_Walloon_Special_Case_Value }
					}

					BRG_Domestic_GUI_Clamp = yes
			}

			if = {
				limit = {  state = 6 }

					set_variable = { BRG_Pop_Lange_Special_Case_Value = 0 }

					set_variable = { BRG_Pop_Lange_Special_Case_Value = 6.BRG_Pop_Legion_And_Resistance_Calculation }

					clamp_variable = {
						var = 6.BRG_Pop_Legion_And_Resistance_Calculation
						min = -4
						max = 5
					}

					add_to_variable = { 6.HimmlerSupport = 6.BRG_Pop_Legion_And_Resistance_Calculation } ## Add to Himmler

					if = {
						limit = { NOT = { BRG = { has_country_flag = BRG_walloon_dead } } }
						subtract_from_variable = { 6.WalloonSupport = 6.BRG_Pop_Legion_And_Resistance_Calculation } ## subtracts from Walloon
					}

					if = {
						limit = { NOT = { BRG = { has_country_flag = BRG_charlemagne_dead } } }
						subtract_from_variable  = { 6.CharlemagneSupport = 6.BRG_Pop_Legion_And_Resistance_Calculation } ## subtracts from Charla
					}

					multiply_variable = { BRG_Pop_Lange_Special_Case_Value = 1.5 }

					round_variable = BRG_Pop_Lange_Special_Case_Value


					clamp_variable = {
						var = BRG_Pop_Lange_Special_Case_Value
						min = -6
						max = 4
					}

				 	subtract_from_variable =  { 6.LangemarckSupport = BRG_Pop_Lange_Special_Case_Value }

					BRG_Domestic_GUI_Clamp = yes
			}


			if = {
				limit = { NOT = { OR = { state = 6 state = 34 } } }

					set_variable = { BRG_Pop_CHR_Special_Case_Value = 0 }


					set_variable = { BRG_Pop_CHR_Special_Case_Value = THIS.BRG_Pop_Legion_And_Resistance_Calculation }


					clamp_variable = {
						var = THIS.BRG_Pop_Legion_And_Resistance_Calculation
						min = -4
						max = 5
					}


					add_to_variable = { THIS.HimmlerSupport = THIS.BRG_Pop_Legion_And_Resistance_Calculation } ## Add to Himmler

					if = {
						limit = { NOT = { BRG = { has_country_flag = BRG_walloon_dead } } }
						subtract_from_variable = { THIS.WalloonSupport = THIS.BRG_Pop_Legion_And_Resistance_Calculation } ## subtracts from Walloon
					}

					subtract_from_variable = { THIS.LangemarkSupport = THIS.BRG_Pop_Legion_And_Resistance_Calculation }

					multiply_variable = { BRG_Pop_CHR_Special_Case_Value = 1.5 }

					round_variable = BRG_Pop_CHR_Special_Case_Value


					clamp_variable = {
						var = BRG_Pop_CHR_Special_Case_Value
						min = -6
						max = 4
					}

					if = {
						limit = { BRG = { NOT = { has_country_flag = BRG_charlemagne_dead } } }
						subtract_from_variable =  { THIS.CharlemagneSupport = BRG_Pop_CHR_Special_Case_Value }
					}

					BRG_Domestic_GUI_Clamp = yes
			}

			BRG_Domestic_GUI_Clamp = yes
		}



		########## ADDS NEW WORKERS AFTER COPS STUFF HAS BEEN CALCULATED #########

		set_temp_variable = { THIS.BRG_Skilled_Worker_Pop_Rate_Calculation = 0 } ## Sets the rate change calculator to 0

		set_variable = { THIS.BRG_Skilled_Worker_Pop_Rate_Calculation = THIS.BRG_Skilled_Worker_Pop } # Sets it to the amount of pops in a state

		set_temp_variable = { BRG_monthly_worker_change = THIS.BRG_Skilled_Worker_Pop_Monthly_Change }



		if = { #Adjust worker growth so it doesn't get too crazy
			limit = { NOT = { state = 15 } } #Exempt Rodomo from this shit, workers don't grow there, they die
			if = {
				limit = {
					check_variable = {
						var = THIS.BRG_Skilled_Worker_Pop_Rate_Calculation
						value = 4000
						compare = greater_than_or_equals
					}
				} # Adding one

				divide_variable = { THIS.BRG_Skilled_Worker_Pop_Rate_Calculation = 4000 } ## Gets the ratio of workers to average

				multiply_variable = { THIS.BRG_Skilled_Worker_Pop_Rate_Calculation = -50 } ## Multiplies it by -50

				round_variable = THIS.BRG_Skilled_Worker_Pop_Rate_Calculation ## Rounds it

				add_to_temp_variable = { BRG_monthly_worker_change = THIS.BRG_Skilled_Worker_Pop_Rate_Calculation } ## Adds it to the temp monthly change
			}

			if = {
				limit = { check_variable = { THIS.BRG_Skilled_Worker_Pop_Rate_Calculation < 4000 } } # Adding one

				divide_variable = { THIS.BRG_Skilled_Worker_Pop_Rate_Calculation = 4000 } ## Gets the ratio of workers to average

				multiply_variable = { THIS.BRG_Skilled_Worker_Pop_Rate_Calculation = 50 } ## Multiplies it by 50

				round_variable = THIS.BRG_Skilled_Worker_Pop_Rate_Calculation ## Rounds it

				add_to_temp_variable = { BRG_monthly_worker_change  = THIS.BRG_Skilled_Worker_Pop_Rate_Calculation } ## Adds it to the temp monthly change
			}
		}
		if = { #Are you starving yet?
			limit = { BRG = { has_country_flag = BRG_Famine_Begun } }

			##########FOOD PRODUCTION

			set_temp_variable = { BRG_produced_food = BRG_state_food_production }

			set_temp_variable = { BRG_food_modifier = BRG.BRG_food_income_base }

			if = { #Food production more effective in rural areas
				limit = {
					OR = {
						has_state_category = rural
						has_state_category = pastoral
						has_state_category = burgundian_mega_farm
					}
				}
				if = {
					limit = {
						OR = {
							has_state_category = rural
							has_state_category = pastoral
						}
					}
					add_to_temp_variable = { BRG_food_modifier = 0.5 }
				}
				else = {
					add_to_temp_variable = { BRG_food_modifier = 2 }
				}
			}
			if = { #Food production even more effective with maxed out agriculture socdev
				limit = { BRG = { has_idea = tno_agriculture_modern } }
				add_to_temp_variable = { BRG_food_modifier = 0.5 }
			}
			if = { #Food production drastically less effective in cities
				limit = {
					check_variable = { BRG_brutalist_city_level > 0 }
				}
				set_temp_variable = { BRG_city_famine_penalty = BRG_brutalist_city_level }
				multiply_temp_variable = { BRG_city_famine_penalty = 0.3 }
				subtract_from_variable = { BRG_food_modifier = BRG_city_famine_penalty }
			}

			multiply_temp_variable = { BRG_produced_food = BRG_food_modifier }

			add_to_variable = { BRG.BRG_National_Food_Reserve = BRG_produced_food }

			add_to_variable = { BRG.BRG_last_months_food_balance = BRG_produced_food }



			if = { #Prioritizing workers over cops
				limit = {  BRG = { has_country_flag = BRG_Famine_Prioritize_Workers } }

				###FOOD CONSUMPTION

				set_temp_variable = { BRG_consumed_food =  BRG_Skilled_Worker_Pop } #Workers eat first
				multiply_temp_variable = { BRG_consumed_food = BRG.BRG_food_consumption_base }
				subtract_from_variable = {BRG.BRG_National_Food_Reserve = BRG_consumed_food} #Calculate difference
				subtract_from_variable = { BRG.BRG_last_months_food_balance = BRG_consumed_food }

				if = {
					limit = {check_variable = {BRG.BRG_National_Food_Reserve < 0}} #If negative (Food Reserves overdrawn)

					add_to_temp_variable = { BRG_monthly_worker_change = BRG.BRG_National_Food_Reserve} #Apply deficit
					add_to_variable = { BRG.BRG_worker_deficit_points = 1 }
					set_variable = { BRG.BRG_National_Food_Reserve = 0 } #Set Food Reserves to 0
				}

				set_temp_variable = { BRG_consumed_food =  BRG_Cops_Pop_State_Counter } #Cops eat now
				multiply_temp_variable = { BRG_consumed_food = BRG.BRG_food_consumption_base }
				multiply_temp_variable = { BRG_consumed_food = 0.5 } #Cops eating less
				subtract_from_variable = { BRG.BRG_National_Food_Reserve = BRG_consumed_food } #Calculate difference
				subtract_from_variable = { BRG.BRG_last_months_food_balance = BRG_consumed_food }
				add_to_variable = { BRG.BRG_cop_deficit_points = 0.1 }
				if = {
					limit = {check_variable = {BRG.BRG_National_Food_Reserve < 0}} #If negative (Food Reserves overdrawn)

					add_to_temp_variable = { BRG_monthly_worker_change = BRG.BRG_National_Food_Reserve} #Apply deficit
					add_to_variable = { BRG.BRG_cop_deficit_points = 1 }
					set_variable = {BRG.BRG_National_Food_Reserve = 0} #Set Food Reserves to 0
				}

			}

			else_if = { #Prioritize cops over workers
				limit = {  BRG = { has_country_flag = BRG_Famine_Prioritize_Cops } }

				###FOOD CONSUMPTION

				set_temp_variable = { BRG_consumed_food =  BRG_Cops_Pop_State_Counter } #Cops eat first
				multiply_temp_variable = { THIS.BRG_consumed_food = BRG.BRG_food_consumption_base }
				subtract_from_variable = {BRG.BRG_National_Food_Reserve = BRG_consumed_food} #Calculate difference
				subtract_from_variable = { BRG.BRG_last_months_food_balance = BRG_consumed_food }

				if = {
					limit = {check_variable = {BRG.BRG_National_Food_Reserve < 0}} #If negative (Food Reserves overdrawn)

					add_to_variable = { BRG_Cops_Pop_State_Counter = BRG.BRG_National_Food_Reserve} #Apply deficit
					add_to_variable = { BRG.BRG_cop_deficit_points = 1 }
					set_variable = { BRG.BRG_National_Food_Reserve = 0} #Set Food Reserves to 0
				}

				set_temp_variable = { BRG_consumed_food =  BRG_Skilled_Worker_Pop } #Workers eat now
				multiply_temp_variable = { BRG_consumed_food = BRG.BRG_food_consumption_base }
				multiply_temp_variable = { BRG_consumed_food = 0.8 } #Workers eating less
				add_to_variable = { BRG.BRG_worker_deficit_points = 0.1 }
				subtract_from_variable = {BRG.BRG_National_Food_Reserve = BRG_consumed_food} #Calculate difference
				subtract_from_variable = { BRG.BRG_last_months_food_balance = BRG_consumed_food }

				if = {
					limit = {check_variable = {BRG.BRG_National_Food_Reserve < 0}} #If negative (Food Reserves overdrawn)

					add_to_temp_variable = { BRG_monthly_worker_change = BRG.BRG_National_Food_Reserve} #Apply deficit
					add_to_variable = { BRG.BRG_worker_deficit_points = 1 }
					set_variable = {BRG.BRG_National_Food_Reserve = 0} #Set Food Reserves to 0
				}
			}
			else = { #Favor neither side

				###FOOD CONSUMPTION

				set_temp_variable = { BRG_consumed_food = BRG_Skilled_Worker_Pop } #Both eat at the same time
				add_to_temp_variable = { BRG_consumed_food =  BRG_Cops_Pop_State_Counter }
				multiply_temp_variable = { BRG_consumed_food = BRG.BRG_food_consumption_base }
				subtract_from_variable = { BRG.BRG_National_Food_Reserve = BRG_consumed_food} #Calculate difference
				subtract_from_variable = { BRG.BRG_last_months_food_balance = BRG_consumed_food }


				if = {
					limit = {check_variable = {BRG.BRG_National_Food_Reserve < 0}} #If negative (Food Reserves overdrawn)
					if = { #Sanity checks for more cops than workers
						limit = { check_variable = { BRG_Skilled_Worker_Pop > BRG_Cops_Pop_State_Counter } }
						set_temp_variable = { BRG_Demographic_Representation_Cop = BRG_Cops_Pop_State_Counter }
						divide_temp_variable = { BRG_Demographic_Representation_Cop = BRG_Skilled_Worker_Pop }
						set_temp_variable = { BRG_Cop_Decrease = BRG_Cops_Pop_State_Counter }
						multiply_temp_variable = { BRG_Cop_Decrease = BRG_Demographic_Representation_Cop }
						set_temp_variable = { BRG_Demographic_Representation_Worker = 1 }
						subtract_from_temp_variable = { BRG_Demographic_Representation_Worker = BRG_Demographic_Representation_Cop }
						set_temp_variable = { BRG_Worker_Decrease = BRG_Skilled_Worker_Pop }
						multiply_temp_variable = { BRG_Worker_Decrease = BRG_Demographic_Representation_Worker }
					}
					else = { #Sanity checks for more cops than workers
						set_temp_variable = { BRG_Demographic_Representation_Worker = BRG_Skilled_Worker_Pop }
						divide_temp_variable = { BRG_Demographic_Representation_Worker = BRG_Cops_Pop_State_Counter }
						set_temp_variable = { BRG_Worker_Decrease = BRG_Cops_Pop_State_Counter }
						multiply_temp_variable = { BRG_Worker_Decrease = BRG_Demographic_Representation_Worker }
						set_temp_variable = { BRG_Demographic_Representation_Cop = 1 }
						subtract_from_temp_variable = { BRG_Demographic_Representation_Cop = BRG_Demographic_Representation_Worker }
						set_temp_variable = { BRG_Cop_Decrease = BRG_Cops_Pop_State_Counter }
						multiply_temp_variable = { BRG_Cop_Decrease = BRG_Demographic_Representation_Cop }
					}
					subtract_from_temp_variable = { BRG_monthly_worker_change =  BRG_Worker_Decrease } #Apply deficit
					subtract_from_variable = { BRG_Cops_Pop_State_Counter =  BRG_Cop_Decrease } #Apply deficit
					add_to_variable = { BRG.BRG_worker_deficit_points = 1 }
					add_to_variable = { BRG.BRG_cop_deficit_points = 1 }
					set_variable = { BRG.BRG_National_Food_Reserve = 0} #Set Food Reserves to 0
				}
			}
		}

		add_to_variable = { BRG_Skilled_Worker_Pop = BRG_monthly_worker_change } ## Adds monthly change to the pops
		round_variable = BRG_Skilled_Worker_Pop
		round_variable = BRG_Cops_Pop_State_Counter

		if = { limit = { check_variable = { nationality = 140 } }
			add_to_variable = { BRG_Skilled_Worker_Pop = 20 }
			add_to_variable = { BRG_Cops_National_Reserve = 20 }
		}

		if = { limit = { check_variable = { nationality = 123 } }
			add_to_variable = { BRG_Skilled_Worker_Pop = -20 }
			add_to_variable = { BRG_Cops_National_Reserve = -20 }
		}

	}

	if = { #Famine checks
		limit = { has_country_flag = BRG_Famine_Begun }
		clamp_variable = {
			var = BRG_National_Food_Reserve
			min = 0
			max = BRG_food_capacity
		}
		#Check for Famine penalties
		if = {
			limit = { check_variable = { BRG_cop_deficit_points > 39 } }
			country_event = { id = BRG_agri.9 }
		}
		if = {
			limit = { check_variable = { BRG_worker_deficit_points > 39 } }
			country_event = { id = BRG_agri.10 }
		}

		if = { #Check for the activation of Famine Phase 2 or end of famine
			limit = { has_completed_focus = BRG_a_second_try }
			if = {
				limit = { has_country_flag = BRG_starvation_occured }
				set_variable = { BRG_famine_stop_progress = 0 }
				if = {
					limit = { NOT = { has_country_flag = BRG_agriculture_phase_2 } }
					add_to_variable = { BRG_second_famine_counter = 1 }
					if = {
						limit = { check_variable = { BRG_second_famine_counter > 2 } }
						country_event = { id = BRG_unlock.9 }
					}
				}
			}
			else = {
				set_variable = { BRG.BRG_second_famine_counter = 0 }
				add_to_variable = { BRG_famine_stop_progress = 1 }
				if = {
					limit = { check_variable = { BRG_famine_stop_progress > 8 } }
					country_event = { id = BRG_unlock.11 }
				}
			}
		}
	}

	if = { #Has the player fucked up Rodomo
		limit = {
			has_completed_focus = BRG_industrialbezirk_rodomo
			check_variable = { 15.BRG_Skilled_Worker_Pop < 0 }
		}
		set_country_flag = BRG_rodomo_deficit_flag
		activate_mission = BRG_failed_to_feed_the_beast

	}
}

TNO_BRG_main_tree_swap = {
	mark_focus_tree_layout_dirty = yes
}

TNO_BRG_domestic_tree_swap = {
	mark_focus_tree_layout_dirty = yes
}
###Infrastructure Stuff
BRG_increase_rodomo_cost = {
	custom_effect_tooltip = BRG_increase_rodomo_costs
	if = {
		limit = { check_variable = { BRG_Rodomo_Cost < 1000 } }
		custom_effect_tooltip = BRG_rodomo_worker_decrease_minor
		hidden_effect = {
			15 = { subtract_from_variable = { BRG_Skilled_Worker_Pop_Monthly_Change = -15 } }
			if = {
				limit = { NOT = { has_country_flag = BRG_rodomo_accident_1 } }
				country_event = { id = BRG_infra.12 days = 13 random = 720 }
			}
		}
	}
	else_if ={
		limit = { check_variable = { BRG_Rodomo_Cost < 1500 } }
		custom_effect_tooltip = BRG_rodomo_worker_decrease_small
		hidden_effect = {
			15 = { subtract_from_variable = { BRG_Skilled_Worker_Pop_Monthly_Change = -30 } }
			if = {
				limit = { NOT = { has_country_flag = BRG_rodomo_accident_2 } }
				country_event = { id = BRG_infra.13 days = 18 random = 720 }
			}
		}
	}
	else_if ={
		limit = { check_variable = { BRG_Rodomo_Cost < 2000 } }
		custom_effect_tooltip = BRG_rodomo_worker_decrease_medium
		hidden_effect = {
			15 = { subtract_from_variable = { BRG_Skilled_Worker_Pop_Monthly_Change = -50 } }
			if = {
				limit = { NOT = { has_country_flag = BRG_rodomo_accident_3 } }
				country_event = { id = BRG_infra.14 days = 21 random = 720 }
			}
		}
	}
	else_if = {
		limit = { check_variable = { BRG_Rodomo_Cost < 1500 } }
		custom_effect_tooltip = BRG_rodomo_worker_decrease_large
		hidden_effect = {
			15 = { subtract_from_variable = { BRG_Skilled_Worker_Pop_Monthly_Change = -90 } }
			if = {
				limit = { NOT = { has_country_flag = BRG_rodomo_accident_4 } }
				country_event = { id = BRG_infra.15 days = 11 random = 720 }
			}
		}
	}
}
###nuclear shit
TNO_Charlemagne_XP_Checks = {
	#manpower
	if = {
		limit = {
		check_variable = { charlemagne_manpower_level = 1 }
		check_variable = { charlemagne_manpower_xp > 299.9 }
			}

		subtract_from_variable = { charlemagne_manpower_xp = 300 }
		set_variable = { charlemagne_manpower_level = 2 }

		set_variable = { charlemagne_manpower_xp_needed = 600 }
		}
	if = {
		limit = {
		check_variable = { charlemagne_manpower_level = 2 }
		check_variable = { charlemagne_manpower_xp > 599.9 }
			}

		subtract_from_variable = { charlemagne_manpower_xp = 600 }
		set_variable = { charlemagne_manpower_level = 3 }

		set_variable = { charlemagne_manpower_xp_needed = 1200 }
		}
	if = {
		limit = {
		check_variable = { charlemagne_manpower_level = 3 }
		check_variable = { charlemagne_manpower_xp > 1199.9 }
			}

		subtract_from_variable = { charlemagne_manpower_xp = 1200 }
		set_variable = { charlemagne_manpower_level = 4 }

		set_variable = { charlemagne_manpower_xp_needed = 0 }
		}
	#money
	if = {
		limit = {
		check_variable = { charlemagne_money_level = 1 }
		check_variable = { charlemagne_money_xp > 299.9 }
			}

		subtract_from_variable = { charlemagne_money_xp = 300 }
		set_variable = { charlemagne_money_level = 2 }

		set_variable = { charlemagne_money_xp_needed = 600 }
		}
	if = {
		limit = {
		check_variable = { charlemagne_money_level = 2 }
		check_variable = { charlemagne_money_xp > 599.9 }
		}

		subtract_from_variable = { charlemagne_money_xp = 600 }
		set_variable = { charlemagne_money_level = 3 }

		set_variable = { charlemagne_money_xp_needed = 1200 }
		}
	if = {
		limit = {
		check_variable = { charlemagne_money_level = 3 }
		check_variable = { charlemagne_money_xp > 1199.9 }
			}

		subtract_from_variable = { charlemagne_money_xp = 1200 }
		set_variable = { charlemagne_money_level = 4 }

		set_variable = { charlemagne_money_xp_needed = 0 }
		}
	#infantry equipment
	if = {
		limit = {
		check_variable = { charlemagne_if_level = 1 }
		check_variable = { charlemagne_if_xp > 299.9 }
			}

		subtract_from_variable = { charlemagne_if_xp = 300 }
		set_variable = { charlemagne_if_level = 2 }

		set_variable = { charlemagne_if_xp_needed = 600 }

		}
	if = {
		limit = {
		check_variable = { charlemagne_if_level = 2 }
		check_variable = { charlemagne_if_xp > 599.9 }
			}

		subtract_from_variable = { charlemagne_if_xp = 600 }
		set_variable = { charlemagne_if_level = 3 }

		set_variable = { charlemagne_if_xp_needed = 1200 }
		}
	if = {
		limit = {
		check_variable = { charlemagne_if_level = 3 }
		check_variable = { charlemagne_if_xp > 1199.9 }
			}

		subtract_from_variable = { charlemagne_if_xp = 1200 }
		set_variable = { charlemagne_if_level = 4 }

		set_variable = { charlemagne_if_xp_needed = 0 }
		}

	###LANGEMARCK###
	#manpower
	if = {
		limit = {
		check_variable = { langemarck_manpower_level = 1 }
		check_variable = { langemarck_manpower_xp > 299.9 }
			}

		subtract_from_variable = { langemarck_manpower_xp = 300 }
		set_variable = { langemarck_manpower_level = 2 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { langemarck_manpower_xp_needed = 600 }
		}
	if = {
		limit = {
		check_variable = { langemarck_manpower_level = 2 }
		check_variable = { langemarck_manpower_xp > 599.9 }
			}

		subtract_from_variable = { langemarck_manpower_xp = 600 }
		set_variable = { langemarck_manpower_level = 3 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { langemarck_manpower_xp_needed = 1200 }
		}
	if = {
		limit = {
		check_variable = { langemarck_manpower_level = 3 }
		check_variable = { langemarck_manpower_xp > 1199.9 }
			}

		subtract_from_variable = { langemarck_manpower_xp = 1200 }
		set_variable = { langemarck_manpower_level = 4 }

		set_variable = { langemarck_manpower_xp_needed = 0 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		}
	#money
	if = {
		limit = {
		check_variable = { langemarck_money_level = 1 }
		check_variable = { langemarck_money_xp > 299.9 }
			}

		subtract_from_variable = { langemarck_money_xp = 300 }
		set_variable = { langemarck_money_level = 2 }

		set_variable = { langemarck_money_xp_needed = 600 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		}
	if = {
		limit = {
		check_variable = { langemarck_money_level = 2 }
		check_variable = { langemarck_money_xp > 599.9 }
			}

		subtract_from_variable = { langemarck_money_xp = 600 }
		set_variable = { langemarck_money_level = 3 }

		set_variable = { langemarck_money_xp_needed = 1200 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		}
	if = {
		limit = {
		check_variable = { langemarck_money_level = 3 }
		check_variable = { langemarck_money_xp > 1199.9 }
			}

		subtract_from_variable = { langemarck_money_xp = 1200 }
		set_variable = { langemarck_money_level = 4 }

		set_variable = { langemarck_money_xp_needed = 0 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		}
	#infantry equipment
	if = {
		limit = {
		check_variable = { langemarck_if_level = 1 }
		check_variable = { langemarck_if_xp > 299.9 }
			}

		subtract_from_variable = { langemarck_if_xp = 300 }
		set_variable = { langemarck_if_level = 2 }

		set_variable = { langemarck_if_xp_needed = 600 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		}
	if = {
		limit = {
		check_variable = { langemarck_if_level = 2 }
		check_variable = { langemarck_if_xp > 599.9 }
			}

		subtract_from_variable = { langemarck_if_xp = 600 }
		set_variable = { langemarck_if_level = 3 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { langemarck_if_xp_needed = 1200 }
		}
	if = {
		limit = {
		check_variable = { langemarck_if_level = 3 }
		check_variable = { langemarck_if_xp > 1199.9 }
			}

		subtract_from_variable = { langemarck_if_xp = 1200 }
		set_variable = { langemarck_if_level = 4 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { langemarck_if_xp_needed = 0 }
		}
	###WALLOON###
	#manpower
	if = {
		limit = {
		check_variable = { walloon_manpower_level = 1 }
		check_variable = { walloon_manpower_xp > 299.9 }
			}

		subtract_from_variable = { walloon_manpower_xp = 300 }
		set_variable = { walloon_manpower_level = 2 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { walloon_manpower_xp_needed = 600 }
		}
	if = {
		limit = {
		check_variable = { walloon_manpower_level = 2 }
		check_variable = { walloon_manpower_xp > 599.9 }
			}

		subtract_from_variable = { walloon_manpower_xp = 600 }
		set_variable = { walloon_manpower_level = 3 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { walloon_manpower_xp_needed = 1200 }
		}
	if = {
		limit = {
		check_variable = { walloon_manpower_level = 3 }
		check_variable = { walloon_manpower_xp > 1199.9 }
			}

		subtract_from_variable = { walloon_manpower_xp = 1200 }
		set_variable = { walloon_manpower_level = 4 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { walloon_manpower_xp_needed = 0 }
		}
	#money
	if = {
		limit = {
		check_variable = { walloon_money_level = 1 }
		check_variable = { walloon_money_xp > 299.9 }
			}

		subtract_from_variable = { walloon_money_xp = 300 }
		set_variable = { walloon_money_level = 2 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { walloon_money_xp_needed = 600 }
		}
	if = {
		limit = {
		check_variable = { walloon_money_level = 2 }
		check_variable = { walloon_money_xp > 599.9 }
			}

		subtract_from_variable = { walloon_money_xp = 600 }
		set_variable = { walloon_money_level = 3 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { walloon_money_xp_needed = 1200 }
		}
	if = {
		limit = {
		check_variable = { walloon_money_level = 3 }
		check_variable = { walloon_money_xp > 1199.9 }
			}

		subtract_from_variable = { walloon_money_xp = 1200 }
		set_variable = { walloon_money_level = 4 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { walloon_money_xp_needed = 0 }

		}
	#infantry equipment
	if = {
		limit = {
		check_variable = { walloon_if_level = 1 }
		check_variable = { walloon_if_xp > 299.9 }
			}

		subtract_from_variable = { walloon_if_xp = 300 }
		set_variable = { walloon_if_level = 2 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { walloon_if_xp_needed = 600 }

		}
	if = {
		limit = {
		check_variable = { walloon_if_level = 2 }
		check_variable = { walloon_if_xp > 599.9 }
			}

		subtract_from_variable = { walloon_if_xp = 600 }
		set_variable = { walloon_if_level = 3 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { walloon_if_xp_needed = 1200 }
		}
	if = {
		limit = {
		check_variable = { walloon_if_level = 3 }
		check_variable = { walloon_if_xp > 1199.9 }
			}

		subtract_from_variable = { walloon_if_xp = 1200 }
		set_variable = { walloon_if_level = 4 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { walloon_if_xp_needed = 0 }
		}
	###HIMMLER##
	#manpower
	if = {
		limit = {
		check_variable = { himmler_manpower_level = 1 }
		check_variable = { himmler_manpower_xp > 299.9 }
			}

		subtract_from_variable = { himmler_manpower_xp = 300 }
		set_variable = { himmler_manpower_level = 2 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { himmler_manpower_xp_needed = 600 }
		}
	if = {
		limit = {
		check_variable = { himmler_manpower_level = 2 }
		check_variable = { himmler_manpower_xp > 599.9 }
			}

		subtract_from_variable = { himmler_manpower_xp = 600 }
		set_variable = { himmler_manpower_level = 3 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { himmler_manpower_xp_needed = 1200 }
		}
	if = {
		limit = {
		check_variable = { himmler_manpower_level = 3 }
		check_variable = { himmler_manpower_xp > 1199.9 }
			}

		subtract_from_variable = { himmler_manpower_xp = 1200 }
		set_variable = { himmler_manpower_level = 4 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { himmler_manpower_xp_needed = 0 }
		}
	#money
	if = {
		limit = {
		check_variable = { himmler_money_level = 1 }
		check_variable = { himmler_money_xp > 299.9 }
			}

		subtract_from_variable = { himmler_money_xp = 300 }
		set_variable = { himmler_money_level = 2 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { himmler_money_xp_needed = 600 }
		}
	if = {
		limit = {
		check_variable = { himmler_money_level = 2 }
		check_variable = { himmler_money_xp > 599.9 }
			}

		subtract_from_variable = { himmler_money_xp = 600 }
		set_variable = { himmler_money_level = 3 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { himmler_money_xp_needed = 1200 }
		}
	if = {
		limit = {
		check_variable = { himmler_money_level = 3 }
		check_variable = { himmler_money_xp > 1199.9 }
			}

		subtract_from_variable = { himmler_money_xp = 1200 }
		set_variable = { himmler_money_level = 4 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		set_variable = { himmler_money_xp_needed = 0 }
		}
	#infantry equipment
	if = {
		limit = {
		check_variable = { himmler_if_level = 1 }
		check_variable = { himmler_if_xp > 299.9 }
			}

		subtract_from_variable = { himmler_if_xp = 300 }
		set_variable = { himmler_if_level = 2 }

		set_variable = { himmler_if_xp_needed = 600 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		}
	if = {
		limit = {
		check_variable = { himmler_if_level = 2 }
		check_variable = { himmler_if_xp > 599.9 }
			}

		subtract_from_variable = { himmler_if_xp = 600 }
		set_variable = { himmler_if_level = 3 }
		set_variable = { himmler_if_xp_needed = 1200 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
			}
		}
	if = {
		limit = {
		check_variable = { himmler_if_level = 3 }
		check_variable = { himmler_if_xp > 1199.9 }
			}

		subtract_from_variable = { himmler_if_xp = 1200 }
		set_variable = { himmler_if_level = 4 }
		set_variable = { himmler_if_xp_needed = 0 }
		every_owned_state = {
			add_to_variable = { THIS.HimmlerSupport = 1 }
				}
			}
		TNO_BRG_calculate_total_levels = yes
		TNO_Level_Bonuses_Check = yes
	}
	TNO_Level_Bonuses_Check = {
		set_variable = { brg_shelter_stab_boost_counter = himmler_total_level }
		set_variable = { brg_shelter_himmler_loyalty_counter = himmler_total_level }
		set_variable = { brg_consumer_goods_factor_counter = 0 }
		divide_variable = { brg_shelter_stab_boost_counter = 2 }
		divide_variable = { brg_consumer_goods_factor_counter = 3 }
		subtract_from_variable = { brg_consumer_goods_factor_counter = himmler_total_level }

		set_variable = { brg_shelter_stab_boost_counter_display = brg_shelter_stab_boost_counter }
		set_variable = { brg_shelter_himmler_loyalty_counter_display = brg_shelter_himmler_loyalty_counter }
		set_variable = { brg_consumer_goods_factor_counter_display = brg_consumer_goods_factor_counter }

		divide_variable = { brg_shelter_stab_boost_counter = 100 }
		divide_variable = { brg_consumer_goods_factor_counter = 100 }
	}
	TNO_BRG_calculate_total_levels = {
		set_variable = { new_himmler_levels = 0 }
		add_to_variable = { new_himmler_levels = himmler_if_level }
		add_to_variable = { new_himmler_levels = himmler_money_level }
		add_to_variable = { new_himmler_levels = himmler_manpower_level }
		set_variable = { himmler_total_level = new_himmler_levels }

		set_variable = { new_langemarck_levels = 0 }
		add_to_variable = { new_langemarck_levels = langemarck_if_level }
		add_to_variable = { new_langemarck_levels = langemarck_money_level }
		add_to_variable = { new_langemarck_levels = langemarck_manpower_level }
		set_variable = { langemarck_total_level = new_langemarck_levels }

		set_variable = { new_walloon_levels = 0 }
		add_to_variable = { new_walloon_levels = walloon_if_level }
		add_to_variable = { new_walloon_levels = walloon_money_level }
		add_to_variable = { new_walloon_levels = walloon_manpower_level }
		set_variable = { walloon_total_level = new_walloon_levels }

		set_variable = { new_charlemagne_levels = 0 }
		add_to_variable = { new_charlemagne_levels = charlemagne_if_level }
		add_to_variable = { new_charlemagne_levels = charlemagne_money_level }
		add_to_variable = { new_charlemagne_levels = charlemagne_manpower_level }
		set_variable = { charlemagne_total_level = new_charlemagne_levels }

		set_variable = { BRG_national_shelter_level = 0 }
		add_to_variable = { BRG_national_shelter_level = charlemagne_total_level }
		add_to_variable = { BRG_national_shelter_level = walloon_total_level }
		add_to_variable = { BRG_national_shelter_level = langemarck_total_level }
		add_to_variable = { BRG_national_shelter_level = himmler_total_level }
	}

TNO_BRG_clear_all_main_tree_triggers = {
	custom_effect_tooltip = BRG_tree_nuke_tt

	clr_country_flag = BRG_start_tree
	clr_country_flag = BRG_WMD_flag
	clr_country_flag = BRG_Schattenkrieg_flag
	clr_country_flag = BRG_Predictable_Failure_flag
	clr_country_flag = BRG_SA_War_flag
	clr_country_flag = BRG_Public_Works_flag
	clr_country_flag = BRG_Worker_Culture_flag
	clr_country_flag = BRG_Education_Programs_flag
	clr_country_flag = BRG_Oil_flag
	clr_country_flag = BRG_Agriculture_flag
	set_variable = {BRG_GP_Wolf_Status_Var = 0}
	set_variable = {BRG_GP_Kondor_Status_Var = 0}
	set_variable = {BRG_GP_Adler_Status_Var = 0}
	set_variable = {BRG_GP_Lowe_Status_Var = 0}
	set_variable = {BRG_GP_Bar_Status_Var = 0}
	set_variable = {BRG_GP_Sonne_Status_Var = 0}
	set_variable = {BRG_GP_Drache_Status_Var = 0}
	set_variable = {BRG_GP_Puma_Status_Var = 0}
	clr_country_flag = BRG_GP_Bar_flag
}

TNO_BRG_clear_all_GP_view_flags = {
	clr_country_flag = view_Adler_actions
	clr_country_flag = view_Wolf_actions
	clr_country_flag = view_Lowe_actions
	clr_country_flag = view_Kondor_actions
	clr_country_flag = view_Bar_actions
	clr_country_flag = view_Drache_actions
	clr_country_flag = view_Sonne_actions
	clr_country_flag = view_Puma_actions
}

TNO_BRG_Activate_GP_Cancel_Cooldown = {#To be called for every GP CANCEL
	set_variable = {BRG_GP_cooldown_length = 120}
	set_country_flag = BRG_GPs_locked_flag
	activate_mission = BRG_GP_Timeout_Mission
	set_variable = { BRG_gp_months_counter = 0 }
	set_variable = { BRG_progress_towards_next_consumption_increase = 0 }
	set_variable = { BRG_additional_supply_consumption = 0 }
}

TNO_BRG_Activate_GP_Complete_Cooldown = {#To be called for every GP COMPLETION
	set_variable = {BRG_GP_cooldown_length = 240}
	set_country_flag = BRG_GPs_locked_flag
	activate_mission = BRG_GP_Timeout_Mission
	set_variable = { BRG_gp_months_counter = 0 }
	set_variable = { BRG_progress_towards_next_consumption_increase = 0 }
	set_variable = { BRG_additional_supply_consumption = 0 }
}

TNO_BRG_Clear_All_Evidence_Windows = {
	clr_country_flag = BRG_Investigation_Walloon_Evidence_1_Flag
	clr_country_flag = BRG_Investigation_Walloon_Evidence_2_Flag
	clr_country_flag = BRG_Investigation_Walloon_Evidence_3_Flag
	clr_country_flag = BRG_Investigation_Walloon_Evidence_4_Flag
	clr_country_flag = BRG_Investigation_Walloon_Evidence_5_Flag

	#Don't really need these anymore v
	clr_country_flag = BRG_Investigation_Charlemange_Evidence_1_Flag
	clr_country_flag = BRG_Investigation_Charlemange_Evidence_2_Flag
	clr_country_flag = BRG_Investigation_Charlemange_Evidence_3_Flag
	clr_country_flag = BRG_Investigation_Charlemange_Evidence_4_Flag
	clr_country_flag = BRG_Investigation_Charlemange_Evidence_5_Flag
	clr_country_flag = BRG_Investigation_Langemarck_Evidence_1_Flag
	clr_country_flag = BRG_Investigation_Langemarck_Evidence_2_Flag
	clr_country_flag = BRG_Investigation_Langemarck_Evidence_3_Flag
	clr_country_flag = BRG_Investigation_Langemarck_Evidence_4_Flag
	clr_country_flag = BRG_Investigation_Langemarck_Evidence_5_Flag
	#Don't really need these anymore ^

	clr_country_flag = BRG_Investigation_CHR_Evidence_1_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_2_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_3_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_4_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_5_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_6_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_7_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_8_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_9_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_10_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_11_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_12_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_13_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_14_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_15_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_16_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_17_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_18_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_19_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_20_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_21_Flag
	clr_country_flag = BRG_Investigation_CHR_Evidence_22_Flag

	clr_country_flag = BRG_Investigation_RPY_Evidence_1_Flag
	clr_country_flag = BRG_Investigation_RPY_Evidence_2_Flag
	clr_country_flag = BRG_Investigation_RPY_Evidence_3_Flag
	clr_country_flag = BRG_Investigation_RPY_Evidence_4_Flag
	clr_country_flag = BRG_Investigation_RPY_Evidence_5_Flag
	clr_country_flag = BRG_Investigation_RPY_Evidence_6_Flag
	clr_country_flag = BRG_Investigation_RPY_Evidence_7_Flag
	clr_country_flag = BRG_Investigation_RPY_Evidence_8_Flag
	clr_country_flag = BRG_Investigation_RPY_Evidence_9_Flag

	clr_country_flag = BRG_Investigation_WLN_Evidence_1_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_2_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_3_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_4_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_5_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_6_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_7_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_8_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_9_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_10_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_11_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_12_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_13_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_14_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_15_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_16_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_17_Flag
	clr_country_flag = BRG_Investigation_WLN_Evidence_18_Flag
}






BRG_Investigations_Evidence_Flag_Clearing_Effect = {

	###### DEGRELLE

	clr_country_flag = BRG_Investigation_DeGrelle_Demolish_House_Operation_Flag
	clr_country_flag = BRG_Investigation_DeGrelle_Watch_HQ_Operation_Flag
	clr_country_flag = BRG_Investigation_DeGrelle_Raid_His_House_Operation_Flag

	clr_country_flag = BRG_Investigation_DeGrelle_Smuggle_Out_Records_Operation_Flag
	clr_country_flag = BRG_Investigation_DeGrelle_Plant_An_Informant_Operation_Flag
	clr_country_flag = BRG_Investigation_DeGrelle_Prepare_A_Raid_On_Bunker_Operation_Flag

	clr_country_flag = BRG_Investigation_DeGrelle_Watch_Trains_Operation_Flag
	clr_country_flag = BRG_Investigation_DeGrelle_Track_His_Location_Operation_Flag
	clr_country_flag = BRG_Investigation_DeGrelle_Interrogate_Conductor_Operation_Flag

	clr_country_flag = BRG_Investigation_DeGrelle_Check_Personal_Files_Operation_Flag
	clr_country_flag = BRG_Investigation_DeGrelle_Plant_A_Tracking_Device_Operation_Flag
	clr_country_flag = BRG_Investigation_DeGrelle_Check_Medical_Records_Operation_Flag

	clr_country_flag = BRG_Investigation_DeGrelle_Bug_His_Office_Operation_Flag
	clr_country_flag = BRG_Investigation_DeGrelle_Plant_A_Mole_Operation_Flag
	clr_country_flag = BRG_Investigation_DeGrelle_Authorize_A_Tail_Operation_Flag


	####### RPY

	clr_country_flag = BRG_Investigation_RPY_Search_Worker_Dorms_Operation_Flag
	clr_country_flag = BRG_Investigation_RPY_Watching_Supply_Chains_Operation_Flag
	clr_country_flag = BRG_Investigation_RPY_Comb_The_Factories_Operation_Flag

	clr_country_flag = BRG_Investigation_RPY_Interrogate_Driver_Operation_Flag
	clr_country_flag = BRG_Investigation_RPY_Track_The_Trucks_Operation_Flag
	clr_country_flag = BRG_Investigation_RPY_Look_Into_Their_Records_Operation_Flag

	clr_country_flag = BRG_Investigation_RPY_Watch_The_Garbagemen_Operation_Flag
	clr_country_flag = BRG_Investigation_RPY_Look_Into_Disposal_Operation_Flag
	clr_country_flag = BRG_Investigation_RPY_Test_The_Sludge_Operation_Flag

	clr_country_flag = BRG_Investigation_RPY_Install_Secret_Cameras_Operation_Flag
	clr_country_flag = BRG_Investigation_RPY_Track_Warehouse_Logistics_Operation_Flag
	clr_country_flag = BRG_Investigation_RPY_Shifting_Through_Garbage_Operation_Flag

	clr_country_flag = BRG_Investigation_RPY_Stake_Out_Shelburne_Operation_Flag
	clr_country_flag =  BRG_Investigation_RPY_Track_Their_Residents_Operation_Flag
	clr_country_flag = BRG_Investigation_RPY_Raiding_Shelburn_Operation_Flag

	clr_country_flag = BRG_Investigation_RPY_Search_Catacombs_Operation_Flag
	clr_country_flag = BRG_Investigation_RPY_Set_Trap_Operation_Flag
	clr_country_flag = BRG_Investigation_RPY_Search_Sewers_Operation_Flag

	clr_country_flag = BRG_Investigation_RPY_Decode_Adress_Operation_Flag
	clr_country_flag = BRG_Investigation_RPY_Find_Where_it_Was_Sent_Operation_Flag
	clr_country_flag = BRG_Investigation_RPY_Look_Into_H_Operation_Flag


	####### CHR

	clr_country_flag = BRG_Investigation_CHR_Look_Into_Drug_Rumors_Operation_Flag # 1
	clr_country_flag = BRG_Investigation_CHR_Observe_New_Territories_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Investigate_Nightly_Disturbances_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Stake_Out_Their_Streets_Operation_Flag # 2
	clr_country_flag = BRG_Investigation_CHR_Anaylze_Crystals_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Bribe_Dealer_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Map_Out_Distribution_Operation_Flag # 3
	clr_country_flag = BRG_Investigation_CHR_Dig_Into_the_Paperwork_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Find_The_Lab_Complex_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Install_Secret_Cams_Operation_Flag # 4
	clr_country_flag = BRG_Investigation_CHR_Deep_Cover_Operations_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Tap_Party_Phones_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Spy_On_Officers_Operation_Flag # 8
	clr_country_flag = BRG_Investigation_CHR_Comb_Over_Budget_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Check_Germanification_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Investigate_School_System_Operation_Flag # 9
	clr_country_flag = BRG_Investigation_CHR_Review_Supply_Inventory_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Trace_The_Cash_Flow_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Check_On_French_Subjugation_Operation_Flag # 10
	clr_country_flag = BRG_Investigation_CHR_Interrogate_Surveying_Officers_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Check_On_Teaching_Curriculum_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Question_Teachers_Operation_Flag # 11
	clr_country_flag = BRG_Investigation_CHR_Investigate_Power_Needs_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Find_Their_Motive_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Search_Dorms_Operation_Flag # 12
	clr_country_flag = BRG_Investigation_CHR_Look_Into_The_Paperwork_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Comb_Over_Schools_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Look_Into_Manufactueres_Operation_Flag # 15
	clr_country_flag = BRG_Investigation_CHR_Examine_Authors_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Find_Where_They_Went_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Sweep_The_Area_Operation_Flag # 16
	clr_country_flag = BRG_Investigation_CHR_Stake_Out_The_Area_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Question_Locals_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Check_On_Storage_Site_Operation_Flag # 17
	clr_country_flag = BRG_Investigation_CHR_Review_The_Transportation_Papers_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Comb_Over_Paintings_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Attempt_Crack_Code_Operation_Flag # 18
	clr_country_flag = BRG_Investigation_CHR_Find_Where_It_Was_Made_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Look_Into_The_Artwork_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Check_Printing_History_Operation_Flag # 19
	clr_country_flag = BRG_Investigation_CHR_Interrogate_the_Workers_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Look_Into_Supply_Chain_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Plant_Loyal_Moles_Operation_Flag # 20
	clr_country_flag = BRG_Investigation_CHR_Install_Survielence_Equipment_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Use_It_To_Sneak_In_Operation_Flag

	clr_country_flag = BRG_Investigation_CHR_Investigate_The_Commander_Operation_Flag # 21
	clr_country_flag = BRG_Investigation_CHR_Track_Their_Movements_Operation_Flag
	clr_country_flag = BRG_Investigation_CHR_Take_Vehicles_For_Repair_Operation_Flag


	####### WALLOON

	clr_country_flag = BRG_Investigation_WLN_Look_Into_Morale_Operation_Flag # 1
	clr_country_flag = BRG_Investigation_WLN_Review_Their_Command_Operation_Flag
	clr_country_flag = BRG_Investigation_WLN_Check_Their_Finances_Operation_Flag

	clr_country_flag = BRG_Investigation_WLN_Confiscate_Their_Files_Operation_Flag # 2
	clr_country_flag = BRG_Investigation_WLN_Search_Dumpsters_Operation_Flag
	clr_country_flag = BRG_Investigation_WLN_Bug_Their_Communications_Operation_Flag

	clr_country_flag = BRG_Investigation_WLN_Analyzing_Message_Operation_Flag # 4
	clr_country_flag = BRG_Investigation_WLN_Find_Rexist_Prop_Manufactuer_Operation_Flag
	clr_country_flag = BRG_Investigation_WLN_Look_Into_Prop_Distribution_Operation_Flag

	clr_country_flag = BRG_Investigation_WLN_Interrogate_Radio_Operators_Operation_Flag # 5
	clr_country_flag = BRG_Investigation_WLN_Track_Interference_Source_Operation_Flag
	clr_country_flag = BRG_Investigation_WLN_Decrypt_The_Message_Operation_Flag

	clr_country_flag = BRG_Investigation_WLN_Raid_Safehouse_Operation_Flag # 6
	clr_country_flag = BRG_Investigation_WLN_Stake_Out_Safehouse_Operation_Flag
	clr_country_flag = BRG_Investigation_WLN_Infiltrate_The_Safehouse_Operation_Flag

	clr_country_flag = BRG_Investigation_WLN_Find_What_It_Leads_To_Operation_Flag # 7
	clr_country_flag = BRG_Investigation_WLN_Decode_Legend_Operation_Flag
	clr_country_flag = BRG_Investigation_WLN_Question_The_OfficerS_Operation_Flag

	clr_country_flag = BRG_Investigation_WLN_Verify_Its_Integrety_Operation_Flag # 13
	clr_country_flag = BRG_Investigation_WLN_Look_Into_Recievers_Operation_Flag
	clr_country_flag = BRG_Investigation_WLN_Confiscate_Their_Equipment_Operation_Flag

	clr_country_flag = BRG_Investigation_WLN_Find_The_Motive_Operation_Flag # 11
	clr_country_flag = BRG_Investigation_WLN_Look_Into_Distribution_Operation_Flag
	clr_country_flag = BRG_Investigation_WLN_Identify_The_Supply_Chain

	clr_country_flag = BRG_Investigation_WLN_Study_Their_Behavior_Operation_Flag # 12
	clr_country_flag = BRG_Investigation_WLN_Investigate_Dissapearences_Operation_Flag
	clr_country_flag = BRG_Investigation_WLN_Look_Into_Vehicle_Use_Operation_Flag

	clr_country_flag = BRG_Investigation_WLN_Find_Who_Authorized_Them_Operation_Flag # 9
	clr_country_flag = BRG_Investigation_WLN_Look_Over_Paperwork_Operation_Flag
	clr_country_flag = BRG_Investigation_WLN_Investigate_The_Cargo_Operation_Flag

	clr_country_flag = BRG_Investigation_WLN_Observe_The_Drills_Operation_Flag # 10
	clr_country_flag = BRG_Investigation_WLN_Question_The_Trainers_Operation_Flag
	clr_country_flag = BRG_Investigation_WLN_Check_On_Supply_Inventory_Operation_Flag

	clr_country_flag = BRG_Investigation_WLN_Locate_Its_Destination_Operation_Flag # 14
	clr_country_flag = BRG_Investigation_WLN_Find_Its_Source_Operation_Flag
	clr_country_flag = BRG_Investigation_WLN_Investigate_Its_Usage_Operation_Flag

	clr_country_flag = BRG_Investigation_WLN_Bug_Its_Authors_Operation_Flag # 15
	clr_country_flag = BRG_Investigation_WLN_Find_Where_It_Was_Made_Operation_Flag
	clr_country_flag = BRG_Investigation_WLN_Investigate_The_Officers_Operation_Flag

	BRG_Domestic_GUI_Clamp = yes

}


BRG_Investigations_Operation_Sucsess_Unlocker_Effect = {


##########################################################
#########
########## WLN
##########
##########################################################

##################################
#### WALLOON LEGION
##################################

### ACTION 1, LOOK INTO THEIR MORALE

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Look_Into_Morale_Operation_Flag }

		set_country_flag = BRG_WLN_Has_Unusual_Activites_Evidence

		set_country_flag = BRG_WLN_Succseeded_Looking_Into_Morale_Flag
}

### ACTION 2, LOOK OVER THEIR COMMAND

if = {
	limit = { has_country_flag =  BRG_Investigation_WLN_Review_Their_Command_Operation_Flag }

		set_country_flag = BRG_WLN_Has_Insulated_HQ_Evidence

		set_country_flag = BRG_WLN_Succseeded_Looking_Into_The_Command
}

### ACTION 3, CHECK THEIR FINANCES

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Check_Their_Finances_Operation_Flag }
		hidden_effect = {
			country_event = { id = burgundy_political.7 }

			set_country_flag = BRG_Investigation_Failed_WLN_Checking_Finances
	}
}


##################################
#### AN INSULATED HQ
##################################

### ACTION 1, CONFISCATE THEIR FILES

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Confiscate_Their_Files_Operation_Flag }

		custom_effect_tooltip = BRG_New_Evidence_Unlocked
		add_to_variable = { BRG_Evidence_On_Walloon = 1 }

		set_country_flag = BRG_WLN_Has_Autopsy_Evidence

		set_country_flag = BRG_WLN_Succseeded_Confiscating_Files_Flag
}

### ACTION 2, SEARCH THEIR DUMPSTERS

if = {
	limit = { has_country_flag =  BRG_Investigation_WLN_Search_Dumpsters_Operation_Flag }

		set_country_flag = BRG_WLN_Has_Rexist_Propaganda_Evidence

		set_country_flag = BRG_WLN_Succseeded_Searching_Dumpsters
}

### ACTION 3, BUG THEIR COMMUNICATIONS

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Bug_Their_Communications_Operation_Flag }

		set_country_flag = BRG_WLN_Has_Scrambled_Radio_Signals_Evidence

		set_country_flag = BRG_WLN_Succseeded_Bugging_Communications
}

##################################
#### REXIST PROPAGANDA
##################################

### ACTION 1, ANAYLZE THE MESSAGE

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Analyzing_Message_Operation_Flag }
		hidden_effect = {
			country_event = { id = burgundy_political.7 }

			set_country_flag = BRG_Investigation_Failed_WLN_Anaylzing_Propaganda
		}
}

### ACTION 2, FIND ITS MANUFACTURER

if = {
	limit = { has_country_flag =  BRG_Investigation_WLN_Find_Rexist_Prop_Manufactuer_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Safehouse_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Safehouse_Evidence } }
			set_country_flag = BRG_WLN_Has_Safehouse_Evidence
	}
}

### ACTION 3, LOOK INTO ITS DISTRIBUTION

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Look_Into_Prop_Distribution_Operation_Flag }
		hidden_effect = {
			country_event = { id = burgundy_political.7 }

			set_country_flag = BRG_Investigation_Failed_WLN_Look_Into_Distribution
	}
}


##################################
#### SCRAMBLED RADIO SIGNALS
##################################

### ACTION 1, INTERROGATE THE OPERATORS

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Interrogate_Radio_Operators_Operation_Flag }
		hidden_effect = {
			country_event = { id = burgundy_political.7 }

			set_country_flag = BRG_Investigation_Failed_WLN_Interrogating_Operators
		}
}

### ACTION 2, TRACK THE INTERFERENCE SOURCE

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Track_Interference_Source_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Safehouse_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Safehouse_Evidence } }
			set_country_flag = BRG_WLN_Has_Safehouse_Evidence
	}
}

### ACTION 3, DECRYPT THE MESSAGES

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Decrypt_The_Message_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Degrelle_Signoff_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag =  BRG_WLN_Has_Degrelle_Signoff_Evidence } }
			custom_effect_tooltip = BRG_New_Evidence_Unlocked
			add_to_variable = { BRG_Evidence_On_Walloon = 1 }
			set_country_flag = BRG_WLN_Has_Degrelle_Signoff_Evidence
	}
}


##################################
#### THEIR OLD SAFEHOUSE
##################################

### ACTION 1, RAID THE SAFEHOUSE

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Raid_Safehouse_Operation_Flag }

		set_country_flag = BRG_WLN_Has_Old_Maps_Evidence

		set_country_flag = BRG_WLN_Succseeded_Infiltrating_Safehouse
}

### ACTION 2, STAKE IT OUT

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Stake_Out_Safehouse_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }

		set_country_flag = BRG_Investigation_Failed_WLN_Staking_Out_Safehouse
	}
}

### ACTION 3, INFLITRATE THE SAFEHOUSE

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Infiltrate_The_Safehouse_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }

		set_country_flag = BRG_Investigation_Failed_WLN_Infiltrating_Safehouse
	}
}

##################################
####  CODED MAPS
##################################

### ACTION 1, FIND WHAT IT LEADS TO

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Find_What_It_Leads_To_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Lions_Den_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Lions_Den_Evidence } }
			custom_effect_tooltip = BRG_New_Evidence_Unlocked
			add_to_variable = { BRG_Evidence_On_Walloon = 1 }
			set_country_flag = BRG_WLN_Has_Lions_Den_Evidence
	}
}

### ACTION 2, DECODE THE LEGEND

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Decode_Legend_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }

		set_country_flag = BRG_Investigation_Failed_WLN_Decoding_The_Legend
	}
}

### ACTION 3, QUESTION THE OFFICERs

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Question_The_OfficerS_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }

		set_country_flag = BRG_Investigation_Failed_WLN_Questioning_The_Officers
	}
}


##################################
####  UNUSUAL ACTIVITY
##################################

### ACTION 1, STUDY THEIR BEHAVIOR

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Study_Their_Behavior_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }

		set_country_flag = BRG_Investigation_Failed_WLN_Looking_Over_Paperwork
	}
}

### ACTION 2, INVESTIGATE THE DISSAPEARENCES

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Investigate_Dissapearences_Operation_Flag }

		set_country_flag = BRG_Has_Training_Soldiers_Evidence

		set_country_flag = BRG_WLN_Succseeded_Investigating_Dissapearence
}

### ACTION 3, LOOK INTO THE VEHICLE USE

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Look_Into_Vehicle_Use_Operation_Flag }

	set_country_flag = BRG_Has_Mass_Convoys_Evidence

	set_country_flag = BRG_WLN_Succseeded_Looking_Into_Vehicle_Use
}


##################################
####  MASS UNAPPROVED CONVOYS
##################################

### ACTION 1, FIND WHO AUTHORIZED THEM

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Find_Who_Authorized_Them_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Degrelle_Signoff_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Degrelle_Signoff_Evidence } }
			custom_effect_tooltip = BRG_New_Evidence_Unlocked
			add_to_variable = { BRG_Evidence_On_Walloon = 1 }
			set_country_flag = BRG_WLN_Has_Degrelle_Signoff_Evidence
	}
}

### ACTION 2, LOOK OVER THE PAPERWORK

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Look_Over_Paperwork_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }

		set_country_flag = BRG_Investigation_Failed_WLN_Looking_Over_Paperwork
	}
}

### ACTION 3, INVESTIGATE THE CARGO

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Investigate_The_Cargo_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Weapons_Caches_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Weapons_Caches_Evidence } }
			set_country_flag = BRG_WLN_Has_Weapons_Caches_Evidence
	}
}


##################################
####  NEW TRAINING REGIMENS
##################################

### ACTION 1, OBSERVE THE DRILLS

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Observe_The_Drills_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }

		set_country_flag = BRG_Investigation_Failed_WLN_Questioning_Trainers

	}

}

### ACTION 2, QUESTION THE TRAINERS

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Question_The_Trainers_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Manufactuering_Guns_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Manufactuering_Guns_Evidence } }
			set_country_flag = BRG_WLN_Has_Manufactuering_Guns_Evidence
			set_country_flag = BRG_WLN_Succseeded_Observing_Drills
	}
}

### ACTION 3, CHECK ON THE INVENTORY

if = {
	limit = { has_country_flag = RG_Investigation_WLN_Check_On_Supply_Inventory_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Weapons_Caches_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Weapons_Caches_Evidence } }
			set_country_flag = BRG_WLN_Has_Weapons_Caches_Evidence
	}
}


##################################
####  SEPERATE INDUSTRIAL
##################################

### ACTION 1, FIND THE MOTIVE

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Find_The_Motive_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Operation_Leopold_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Operation_Leopold_Evidence } }
			custom_effect_tooltip = BRG_New_Evidence_Unlocked
			add_to_variable = { BRG_Evidence_On_Walloon = 1 }
			set_country_flag = BRG_WLN_Has_Operation_Leopold_Evidence
	}

}

### ACTION 2, LOOK INTO THE DISTRIBUBTION

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Look_Into_Distribution_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }

		set_country_flag = BRG_Investigation_Failed_WLN_Looking_Into_Distribution
	}
}

### ACTION 3, IDENTIFY THE SUPPLY CHAIN

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Identify_The_Supply_Chain }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }

		set_country_flag = BRG_Investigation_Failed_WLN_Identifying_The_Supply_Chain
	}
}


##################################
####  UNMARKED WEAPONS CACHES
##################################

### ACTION 1, LOCATE ITS DESTINATION

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Locate_Its_Destination_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }

		set_country_flag = BRG_Investigation_Failed_WLN_Finding_Motive
	}

}

### ACTION 2, FIND ITS SOURCE

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Find_Its_Source_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Manufactuering_Guns_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Manufactuering_Guns_Evidence } }
			set_country_flag = BRG_WLN_Has_Manufactuering_Guns_Evidence
			set_country_flag = BRG_WLN_Succseeded_Observing_Drills
	}
}

### ACTION 3, INVESTIGATE ITS USAGE

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Investigate_Its_Usage_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Operation_Leopold_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Operation_Leopold_Evidence } }
			custom_effect_tooltip = BRG_New_Evidence_Unlocked
			add_to_variable = { BRG_Evidence_On_Walloon = 1 }
			set_country_flag = BRG_WLN_Has_Operation_Leopold_Evidence
	}
}


##################################
####  LEOPOLD PLAN
##################################

### ACTION 1, BUG ITS AUTHORS

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Bug_Its_Authors_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Lions_Den_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Lions_Den_Evidence } }
			custom_effect_tooltip = BRG_New_Evidence_Unlocked
			add_to_variable = { BRG_Evidence_On_Walloon = 1 }
			set_country_flag = BRG_WLN_Has_Lions_Den_Evidence
	}

}

### ACTION 2, FIND WHERE IT WAS MADE

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Find_Where_It_Was_Made_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }

		set_country_flag = BRG_Investigation_Failed_WLN_Find_Where_It_Was_Made
	}
}

### ACTION 3, INVESTIGATE THE OFFICERS

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Investigate_The_Officers_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }

		set_country_flag = BRG_Investigation_Failed_WLN_Investigating_Officers
	}
}


##################################
#### DEGRELLE SIGNAL
##################################

### ACTION 1, FIND THE SOURCE

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Verify_Its_Integrety_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Lions_Den_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Lions_Den_Evidence } }
			custom_effect_tooltip = BRG_New_Evidence_Unlocked
			add_to_variable = { BRG_Evidence_On_Walloon = 1 }
			set_country_flag = BRG_WLN_Has_Lions_Den_Evidence
	}


}

### ACTION 2, LOOK INTO WHO RECIEVED IT

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Look_Into_Recievers_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Safehouse_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Safehouse_Evidence } }
			set_country_flag = BRG_WLN_Has_Safehouse_Evidence
			set_country_flag = BRG_WLN_Succseeded_Look_Into_Recievers
	}
}

### ACTION 3, CONFISCATE THEIR EQUIPMENT

if = {
	limit = { has_country_flag = BRG_Investigation_WLN_Confiscate_Their_Equipment_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_WLN_Has_Lions_Den_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_WLN_Has_Lions_Den_Evidence } }
			custom_effect_tooltip = BRG_New_Evidence_Unlocked
			add_to_variable = { BRG_Evidence_On_Walloon = 1 }
			set_country_flag = BRG_WLN_Has_Lions_Den_Evidence
	}
}








##########################################################
#########
########## CHR
##########
##########################################################

##################################
#### THE LEGION ITSELF
##################################

### ACTION 1, LOOK INTO DRUG RUMORS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Look_Into_Drug_Rumors_Operation_Flag }

		set_country_flag = BRG_CHR_Has_Widespread_Meth_Use_Evidence
}

### ACTION 2, OBSERVE THE NEW TERRITORIES

if = {
	limit = { has_country_flag =  BRG_Investigation_CHR_Observe_New_Territories_Operation_Flag }
		set_country_flag = BRG_Has_Bad_Education_Program_Evidence
}

### ACTION 3, INVESTIGATE THE NIGHTLY DISTRUBANCES

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Investigate_Nightly_Disturbances_Operation_Flag }
		set_country_flag = BRG_CHR_Has_Nightly_Shit_Evidence
}


##################################
#### WIDESPREAD METH USE
##################################

### ACTION 1, STAKE OUT THEIR STREETS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Stake_Out_Their_Streets_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }
		set_country_flag = BRG_Investigation_Failed_Staking_Out_Streets
	}
}

### ACTION 2, ANAYLZE THE CRYSTALS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Anaylze_Crystals_Operation_Flag }

		set_country_flag = BRG_Has_Makes_Their_Own_Meth_Evidence
}

### ACTION 3, BRIBE THE DEALERS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Bribe_Dealer_Operation_Flag }

		set_country_flag = BRG_Has_Wild_Parties_Evidence
}


##################################
#### HOMEGROWN CRYSTAL
##################################

### ACTION 1, LOOK INTO DISTRIBUTION

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Map_Out_Distribution_Operation_Flag}

	hidden_effect = {
		country_event = { id = burgundy_political.7 }
		set_country_flag = BRG_Investigation_Failed_CHR_Looking_Into_Distribution
	}

}

### ACTION 2, DIG INTO THE PAPERWORK

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Dig_Into_the_Paperwork_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_CHR_Has_Signed_Charla_Papers_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
		}
	}

	if = {
		limit = { NOT = { has_country_flag = BRG_CHR_Has_Signed_Charla_Papers_Evidence } }
			custom_effect_tooltip = BRG_New_Evidence_Unlocked
			add_to_variable = { BRG_Large_Evidence = 1 }
			add_to_variable = { BRG_Charla_Final_Pieces = 1 }
			set_country_flag = BRG_CHR_Has_Signed_Charla_Papers_Evidence
	}
}

### ACTION 3, FIND THE LAB COMPLEX

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Find_The_Lab_Complex_Operation_Flag }

		set_country_flag = BRG_Has_Dual_Lab_Production_Evidence
}


##################################
#### WILD PARTIES
##################################

### ACTION 1, INSTALL SECRET CAMERAS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Install_Secret_Cams_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }
		set_country_flag = BRG_Investigation_Failed_CHR_installing_Secret_Cameras
	}
}

### ACTION 2, DEEP COVER OPS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Deep_Cover_Operations_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_CHR_Has_Signed_Charla_Papers_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
		}
	}

	if = {
		limit = { NOT = { has_country_flag = BRG_CHR_Has_Signed_Charla_Papers_Evidence } }
			custom_effect_tooltip = BRG_New_Evidence_Unlocked
			add_to_variable = { BRG_Large_Evidence = 1 }
			add_to_variable = { BRG_Charla_Final_Pieces = 1 }
			set_country_flag = BRG_CHR_Has_Signed_Charla_Papers_Evidence
	}
}

### ACTION 3, TAP THE PARTY PHONES

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Tap_Party_Phones_Operation_Flag }
		custom_effect_tooltip = BRG_New_Evidence_Unlocked
		add_to_variable = { BRG_Large_Evidence = 1 }
		set_country_flag = BRG_Has_Charla_Whores_Himself_Evidence
}



#####################################
#### LACLUSTER INTEGRATION PROGRAMS
#####################################

### ACTION 1, SPY ON THE OFFICERS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Spy_On_Officers_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }
		set_country_flag = BRG_Investigation_Failed_CHR_Interrogate_Integrators
	}
}

### ACTION 2, COMB OVER THE BUDGET

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Comb_Over_Budget_Operation_Flag }
		set_country_flag = BRG_Has_Underfunded_Education_Budget_Evidence
}

### ACTION 3, CHECK THE GERMANIFICATION PROGRESS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Check_Germanification_Operation_Flag }
		set_country_flag = BRG_Non_Existant_Germanification_Program
}


#####################################
#### NO REEDUCATION PROGRAM
#####################################

### ACTION 1, INVESTIGATE SCHOOL SYSTEM

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Investigate_School_System_Operation_Flag }

		if = {
			limit = { has_country_flag = BRG_CHR_Has_Dissapearing_Teachers_Evidence }
				hidden_effect = {
					country_event = { id = burgundy_political.9 }
				}
			}

	if = {
		limit = { NOT = { has_country_flag = BRG_CHR_Has_Dissapearing_Teachers_Evidence } }
			set_country_flag = BRG_CHR_Has_Dissapearing_Teachers_Evidence
		}
}

### ACTION 2, REVIEW SUPPLY INVENTORY

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Review_Supply_Inventory_Operation_Flag }
		if = {
			limit = { has_country_flag = BRG_CHR_Has_Destroyed_Schoolbooks_Evidence }
				hidden_effect = {
					country_event = { id = burgundy_political.9 }
				}
			}

	if = {
		limit = { NOT = { has_country_flag = BRG_CHR_Has_Destroyed_Schoolbooks_Evidence } }
			set_country_flag = BRG_CHR_Has_Destroyed_Schoolbooks_Evidence
	}
}

### ACTION 3, TRACE THE CASH FLOW

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Check_Germanification_Operation_Flag }
		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_CHR_Tracing_Cash_flow
	}
}


#####################################
#### GERMANIFICATION PROGRAM
#####################################

### ACTION 1, LOOK INTO FRENCH LANGUAGE SUBS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Check_On_French_Subjugation_Operation_Flag }
		set_country_flag = BRG_CHR_Has_Unconfiscated_French_Books_Evidence
}

### ACTION 2, INTERROGATE OFFICERS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Interrogate_Surveying_Officers_Operation_Flag }
		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_CHR_Spying_On_Officers
		}
}

### ACTION 3, CHECK OVER THE TEACHING CURRICULUM

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Check_On_Teaching_Curriculum_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_CHR_Has_Destroyed_Schoolbooks_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

		if = {
			limit = { NOT = { has_country_flag = BRG_CHR_Has_Dissapearing_Teachers_Evidence } }
				set_country_flag = BRG_CHR_Has_Destroyed_Schoolbooks_Evidence
		}
}


#####################################
#### DESTROYED SCHOOLBOOKS
#####################################

### ACTION 1, QUESTION TEACHERS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Question_Teachers_Operation_Flag }
		if = {
			limit = { has_country_flag = BRG_CHR_Has_Dissapearing_Teachers_Evidence }
				hidden_effect = {
					country_event = { id = burgundy_political.9 }
				}
			}

		if = {
			limit = { NOT = { has_country_flag = BRG_CHR_Has_Dissapearing_Teachers_Evidence } }
				set_country_flag = BRG_CHR_Has_Dissapearing_Teachers_Evidence
			}
}

### ACTION 2, INVESTIGATE POWER NEEDS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Investigate_Power_Needs_Operation_Flag }
		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_CHR_Power_Needs
		}
}

### ACTION 3, FIND THEIR MOTIVES

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Find_Their_Motive_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }
		set_country_flag = BRG_Investigation_Failed_CHR_Find_Motive
	}
}

#####################################
#### DISSAPEARING TEACHERS
#####################################

### ACTION 1, SEARCH THE DORMS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Search_Dorms_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }
		set_country_flag = BRG_Investigation_Failed_CHR_Search_Dorms
	}
}

### ACTION 2, LOOK INTO THE PAPERWORK

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Look_Into_The_Paperwork_Operation_Flag }

		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_CHR_Look_INto_Paperwork
		}
}

### ACTION 3, COMB OVER THE SCHOOLS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Comb_Over_Schools_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_Has_Underground_French_Schools_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_Has_Underground_French_Schools_Evidence } }
			custom_effect_tooltip = BRG_New_Evidence_Unlocked
			add_to_variable = { BRG_Large_Evidence = 1 }
			add_to_variable = { BRG_Charla_Final_Pieces = 1 }
			set_country_flag = BRG_Has_Underground_French_Schools_Evidence
		}
}


#####################################
#### FRENCH BOOKS
#####################################

### ACTION 1, SEARCH THE DORMS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Look_Into_Manufactueres_Operation_Flag  }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }
		set_country_flag = BRG_Investigation_Failed_CHR_Search_Dorms_2
	}
}

### ACTION 2, LOOK INTO THE PAPERWORK

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Examine_Authors_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_Has_Underground_French_Schools_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

	if = {
		limit = { NOT = { has_country_flag = BRG_Has_Underground_French_Schools_Evidence } }
			custom_effect_tooltip = BRG_New_Evidence_Unlocked
			add_to_variable = { BRG_Large_Evidence = 1 }
			add_to_variable = { BRG_Charla_Final_Pieces = 1 }
			set_country_flag = BRG_Has_Underground_French_Schools_Evidence
		}
}

### ACTION 3, COMB OVER THE SCHOOLS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Find_Where_They_Went_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }
		set_country_flag = BRG_Investigation_Failed_CHR_Comb_Over_Schools
	}
}


##################################
#### UNSUAL NIGHTLY ACTIVITY
##################################

### ACTION 1, SWEEP THE AREA

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Sweep_The_Area_Operation_Flag }
		set_country_flag = BRG_Has_Foreign_Tickets_Evidence
}

### ACTION 2,  STAKE OUT THE AREA

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Stake_Out_The_Area_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }
		set_country_flag = BRG_Investigation_Failed_CHR_Staking_Out_Area
	}
}

### ACTION 3, QUTSTION THE LOCALS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Question_Locals_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }
		set_country_flag = BRG_Investigation_Failed_CHR_Questioning_the_Locals
	}
}


##################################
#### FOREIGN TICKETS
##################################

### ACTION 1, ATTEMPT TO CRACK THE CODE

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Attempt_Crack_Code_Operation_Flag }
		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_CHR_Cracking_The_Code
	}
}

### ACTION 2, FIND WHERE IT WAS MADE

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Find_Where_It_Was_Made_Operation_Flag }
		set_country_flag = BRG_Has_Printing_Press_Evidence
}

### ACTION 3, LOOK INTO ITS ARTWORK

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Look_Into_The_Artwork_Operation_Flag }
		custom_effect_tooltip = BRG_New_Evidence_Unlocked
		add_to_variable = { BRG_Large_Evidence = 1 }
		set_country_flag = BRG_Has_Confiscated_Art_Evidence
}


##################################
#### CONFISCATED ART
##################################

### ACTION 1, CHECK ON STORAGE SITE

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Check_On_Storage_Site_Operation_Flag }
		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_CHR_Check_On_Storage_Site
	}
}

### ACTION 2, REVIEW TRASNPORTATION DOCS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Review_The_Transportation_Papers_Operation_Flag }
		set_country_flag = BRG_Has_Transporting_Cultural_Objects_In_Tanks_Evidence
}

### ACTION 3, COMB OVER PAINTINGS THEMSELVES

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Comb_Over_Paintings_Operation_Flag }
		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_CHR_Combing_Over_Paintings
	}
}


##################################
#### IMPROVISED PRINTING PRESS
##################################

### ACTION 1, CHECK PRINTING HISTORY

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Check_Printing_History_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_Has_Gala_Invitation_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

		if = {
			limit = { NOT = { has_country_flag = BRG_Has_Gala_Invitation_Evidence } }
				set_country_flag = BRG_Has_Gala_Invitation_Evidence
				custom_effect_tooltip = BRG_New_Evidence_Unlocked
				add_to_variable = { BRG_Large_Evidence = 1 }
		}
}

### ACTION 2, INTERROGATE THE WORKERS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Interrogate_the_Workers_Operation_Flag}
		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_CHR_installing_Secret_Cameras
		}
}

### ACTION 3, LOOK INTO THE SUPPLY CHAIN

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Look_Into_Supply_Chain_Operation_Flag }


		if = {
			limit = { has_country_flag = BRG_Has_Transporting_Cultural_Objects_In_Tanks_Evidence }
				hidden_effect = {
					country_event = { id = burgundy_political.9 }
				}
			}

			if = {
				limit = { NOT = { has_country_flag = BRG_Has_Transporting_Cultural_Objects_In_Tanks_Evidence} }
					set_country_flag = BRG_Has_Transporting_Cultural_Objects_In_Tanks_Evidence
			}
}



##################################
#### GALA INVITATION
##################################

### ACTION 1, PLANT LOYAL MOLES

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Plant_Loyal_Moles_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }
		set_country_flag = BRG_Investigation_Failed_CHR_Planting_Moles
	}
}

### ACTION 2, INSTALL SURVIELENCE

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Install_Survielence_Equipment_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_Has_French_High_Society_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

		if = {
			limit = { NOT = { has_country_flag = BRG_Has_French_High_Society_Evidence} }
				set_country_flag = BRG_Has_French_High_Society_Evidence
				add_to_variable = { BRG_Charla_Final_Pieces = 1 }
		}
}

### ACTION 3, USE IT TO SNEAK IN

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Use_It_To_Sneak_In_Operation_Flag }

	hidden_effect = {
		country_event = { id = burgundy_political.7 }
		set_country_flag = BRG_Investigation_Failed_CHR_Sneak_Into_Gala
	}

}


##################################
#### TANKS TRANSPORTING ART
##################################

### ACTION 1, INVESTIGATE THE COMMANDER

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Investigate_The_Commander_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_Has_French_High_Society_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

		if = {
			limit = { NOT = { has_country_flag = BRG_Has_French_High_Society_Evidence} }
				set_country_flag = BRG_Has_French_High_Society_Evidence
				add_to_variable = { BRG_Charla_Final_Pieces = 1 }
		}
}

### ACTION 2, TRACK THEIR MOVEMENTS

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Track_Their_Movements_Operation_Flag }
		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_CHR_Sneak_Into_Gala
	}
}

### ACTION 3, TAKE VEHICLES IN FOR "REPAIR"

if = {
	limit = { has_country_flag = BRG_Investigation_CHR_Take_Vehicles_For_Repair_Operation_Flag }

	if = {
		limit = { has_country_flag = BRG_Has_Gala_Invitation_Evidence }
			hidden_effect = {
				country_event = { id = burgundy_political.9 }
			}
		}

		if = {
			limit = { NOT = { has_country_flag = BRG_Has_Gala_Invitation_Evidence } }
				set_country_flag = BRG_Has_Gala_Invitation_Evidence
		}

}


##########################################################
#########
########## RPY
##########
##########################################################


	##################################
	#### MISSING EQUIPMENT
	##################################

	### ACTION 1, SEARCHING WORKERS DORMS

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Search_Worker_Dorms_Operation_Flag }

		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_Searching_Workers_Dorms
		}
	}

	### ACTION 2, WATCHING SUPPLY CHAIN

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Watching_Supply_Chains_Operation_Flag }

		set_country_flag = BRG_RPY_Has_Pipe_Trucks_Missing_Evidence
	}

	### ACTION 3, COMB FACTORIES

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Comb_The_Factories_Operation_Flag }

		set_country_flag = BRG_RPY_Has_Stolen_Wate_Products_Evidence
	}


	##################################
	#### PIPE TRUCKS
	##################################

	### ACTION 1, INTERROGATE DRIVER

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Interrogate_Driver_Operation_Flag }

		if = {
			limit = { has_country_flag = BRG_RPY_Has_Stolen_Wate_Products_Evidence }
				hidden_effect = {
					country_event = { id = burgundy_political.9 }
			}
		}

		if = {
			limit = { NOT = { has_country_flag = BRG_RPY_Has_Stolen_Wate_Products_Evidence } }
				set_country_flag = BRG_RPY_Has_Stolen_Wate_Products_Evidence
		}
	}

	### ACTION 2,  TRACKING TRUCKS

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Track_The_Trucks_Operation_Flag}

		if = {
			limit = { has_country_flag = BRG_RPY_Has_Warehouse_36_Evidence }
				hidden_effect = {
					country_event = { id = burgundy_political.9 }
			}
		}

		if = {
			limit = { NOT = { has_country_flag = BRG_RPY_Has_Warehouse_36_Evidence } }
				set_country_flag = BRG_RPY_Has_Warehouse_36_Evidence
		}
	}

	### ACTION 3,  LOOK INTO THEIR RECORDS

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Look_Into_Their_Records_Operation_Flag }

		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_RPY_Looking_Into_Pipe_Records
		}
	}


	##################################
	#### INDUSTRIAL SLUDGE BEING STOLEN
	##################################

	### ACTION 1, WATCH OVER GARBAGEMEN

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Watch_The_Garbagemen_Operation_Flag }

		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_RPY_Looking_Into_Pipe_Records
		}
	}

	### ACTION 2, LOOK INTO DISPOSAL SYSTEMS

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Look_Into_Disposal_Operation_Flag }

		if = {
			limit = { has_country_flag = BRG_RPY_Has_Warehouse_36_Evidence }
				hidden_effect = {
					country_event = { id = burgundy_political.9 }
			}
		}

		if = {
			limit = { NOT = { has_country_flag = BRG_RPY_Has_Warehouse_36_Evidence } }
				set_country_flag = BRG_RPY_Has_Warehouse_36_Evidence
		}
	}

	### ACTION 3, TEST THE SLUDGE

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Test_The_Sludge_Operation_Flag }

		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_RPY_Testing_Sludge
		}
	}


	##################################
	#### WAREHOUSE 36
	##################################

	### ACTION 1, INSTALL SECRET CAMERAS

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Install_Secret_Cameras_Operation_Flag }

		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_RPY_installing_Secret_Cameras
		}
	}

	### ACTION 2, TRACK THEIR LOGISTICS

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Track_Warehouse_Logistics_Operation_Flag }

		if = {
			limit = { NOT = { has_country_flag = BRG_RPY_Has_Shelburne_Evidence } }
				set_country_flag = BRG_RPY_Has_Shelburne_Evidence
		}
	}

	### ACTION 3, SIFT THROUGH THEIR GARBAGE

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Shifting_Through_Garbage_Operation_Flag }

		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_RPY_Sifting_Through_Warehouse_Garbage
		}
	}


	##################################
	#### SHELBURNE SAFEHOUSE
	##################################

	### ACTION 1, STAKE IT OUT

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Stake_Out_Shelburne_Operation_Flag }

		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_RPY_Staking_Out_Shelburne
		}
	}

	### ACTION 2, TRACK THE RESIDENTS

	if = {
		limit = { has_country_flag =  BRG_Investigation_RPY_Track_Their_Residents_Operation_Flag }

		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_RPY_Tracking_Shelburne_Residents
		}
	}

	### ACTION 3, RAID THE BUILDING

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Raiding_Shelburn_Operation_Flag }

		if = {
			limit = { NOT = { has_country_flag = BRG_RPY_Has_Trapdoor_Evidencee } }
				set_country_flag = BRG_RPY_Has_Trapdoor_Evidencee
		}
	}



	##################################
	#### TRAPDOOR
	##################################

	### ACTION 1, SEARCH CATACOMBS

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Search_Catacombs_Operation_Flag }

		if = {
			limit = { NOT = { has_country_flag = BRG_RPY_Has_Coded_Adress_Evidence } }
				set_country_flag = BRG_RPY_Has_Coded_Adress_Evidence
		}
	}

	### ACTION 2, SET A TRAP

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Set_Trap_Operation_Flag }

		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_RPY_Setting_A_Trap
		}
	}

	### ACTION 3, SEARCH THE SEWERS

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Search_Sewers_Operation_Flag }

		if = {
			limit = { NOT = { has_country_flag = BRG_RPY_Has_Worker_Prop_Evidence } }
				set_country_flag = BRG_RPY_Has_Worker_Prop_Evidence
		}
	}


	##################################
	#### CODED ADRESS
	##################################

	### ACTION 1, DECODE ADRESS

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Decode_Adress_Operation_Flag }

		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_RPY_Decoding_Adress
		}
	}

	### ACTION 2, FIND WHERE IT WAS SENT

	if = {
		limit = { has_country_flag =  BRG_Investigation_RPY_Find_Where_it_Was_Sent_Operation_Flag }

		hidden_effect = {
			country_event = { id = burgundy_political.7 }
			set_country_flag = BRG_Investigation_Failed_RPY_Finding_Where_It_Was_Sent
		}
	}

	### ACTION 3, LOOK INTO H

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_Look_Into_H_Operation_Flag }

		if = {
			limit = { NOT = { has_country_flag = BRG_RPY_Has_Henri_Evidence } }
				set_country_flag = BRG_RPY_Has_Henri_Evidence
		}
	}


	##########################################################
	#########
	########## DEGRELLE
	##########
	##########################################################

	if = {
		limit = { has_country_flag = BRG_Investigating_DeGrelle }

		##################################
		#### DEGRELLE PORTRAIT SHIT
		##################################

		### ACTION 1, BUGGING HIS OFFICE

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Bug_His_Office_Operation_Flag }

			if = {
				limit = { has_country_flag = BRG_DeGrelle_Has_Erratic_Behav_Evidence }
					hidden_effect = {
						country_event = { id = burgundy_political.9 }
				}
			}

			if = {
				limit = { NOT = { has_country_flag = BRG_DeGrelle_Has_Erratic_Behav_Evidence } }
					set_country_flag = BRG_DeGrelle_Has_Erratic_Behav_Evidence
			}
		}

		### ACTION 2, PLANT A MOLE

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Plant_A_Mole_Operation_Flag }

			hidden_effect = {
				country_event = { id = burgundy_political.7 }
				set_country_flag = BRG_Investigation_Failed_Checking_Medical_Records
			}
		}

		### ACTION 3, AUTHORIZE A TAIL

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Authorize_A_Tail_Operation_Flag }

			if = {
				limit = { has_country_flag = BRG_DeGrelle_Has_Travel_Records_Evidence }
					hidden_effect = {
						country_event = { id = burgundy_political.9 }
					}
			}

			if = {
				limit = { NOT = { has_country_flag = BRG_DeGrelle_Has_Travel_Records_Evidence } }
				set_country_flag = BRG_DeGrelle_Has_Travel_Records_Evidence
			}
		}

		##################################
		#### ERRATIC BEHAVIOR, EVIDENCE 4
		##################################

		### ACTION 1, CHECK MED RECORDS

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Check_Medical_Records_Operation_Flag }
				hidden_effect = {
					country_event = { id = burgundy_political.7 }
					set_country_flag = BRG_Investigation_Failed_Checking_Medical_Records
				}
		}

		### ACTION 2, PLANT A TACKING DEVICE

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Plant_A_Tracking_Device_Operation_Flag }

				if = {
					limit = { has_country_flag = BRG_DeGrelle_Has_Not_Home_Evidence }
						hidden_effect = {
							country_event = { id = burgundy_political.9 }
						}
				}

				if = {
					limit = { NOT = { has_country_flag = BRG_DeGrelle_Has_Not_Home_Evidence } }
					set_country_flag = BRG_DeGrelle_Has_Not_Home_Evidence
				}
		}

		### ACTION 3, CHECK HIS PERSONAL FILES

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Check_Personal_Files_Operation_Flag }

				if = {
					limit = { has_country_flag = BRG_DeGrelle_Has_Travel_Records_Evidence }
						hidden_effect = {
							country_event = { id = burgundy_political.9 }
						}
				}

				if = {
					limit = { NOT = { has_country_flag = BRG_DeGrelle_Has_Travel_Records_Evidence } }
					set_country_flag = BRG_DeGrelle_Has_Travel_Records_Evidence
				}
		}


		##################################
		#### SUS TICKETS, EVIDENCE 5
		##################################

		### ACTION 1, WATCH THE TRAINS

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Watch_Trains_Operation_Flag }

				if = {
					limit = { has_country_flag = BRG_DeGrelle_Has_Bunker_42_Evidence }
						hidden_effect = {
							country_event = { id = burgundy_political.9 }
						}
				}

				if = {
					limit = { NOT = { has_country_flag = BRG_DeGrelle_Has_Bunker_42_Evidence } }
					set_country_flag = BRG_DeGrelle_Has_Bunker_42_Evidence
				}
		}

		### ACTION 2, TRACK HIS LOCATION

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Track_His_Location_Operation_Flag }

				if = {
					limit = { has_country_flag = BRG_DeGrelle_Has_Not_Home_Evidence }
						hidden_effect = {
							country_event = { id = burgundy_political.9 }
					}
			}

			if = {
				limit = { NOT = { has_country_flag = BRG_DeGrelle_Has_Not_Home_Evidence } }
				set_country_flag = BRG_DeGrelle_Has_Not_Home_Evidence
			}
		}

		### ACTION 3, INTERROGATE THE CONDUCTOR

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Interrogate_Conductor_Operation_Flag}
				hidden_effect = {
					country_event = { id = burgundy_political.7 }
					set_country_flag = BRG_Investigation_Walloon_Failed_Confronting_Conductor
			}
		}


		###############################
		### BUNKER 42, EVIDENCE 2
		###############################


		### ACTION 1, SMUGGLE OUT RECORDS

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Smuggle_Out_Records_Operation_Flag }

				if = {
					limit = { has_country_flag = BRG_DeGrelle_Has_Operation_Bodyguard_Evidence }
						hidden_effect = {
							country_event = { id = burgundy_political.9 }
					}
			}

			if = {
				limit = { NOT = { has_country_flag = BRG_DeGrelle_Has_Operation_Bodyguard_Evidence } }
				set_country_flag = BRG_DeGrelle_Has_Operation_Bodyguard_Evidence
			}
		}

		### ACTION 2, PLANT AN INFORMANT

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Plant_An_Informant_Operation_Flag }
			hidden_effect = {
				country_event = { id = burgundy_political.7 }
				set_country_flag = BRG_Investigation_Failed_Planting_Informant
			}
		}

		### ACTION 3, PREPARE A RAID

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Prepare_A_Raid_On_Bunker_Operation_Flag }

				if = {
					limit = { has_country_flag = BRG_DeGrelle_Has_Operation_Bodyguard_Evidence }
						hidden_effect = {
							country_event = { id = burgundy_political.9 }
						}
				}

				if = {
					limit = { NOT = { has_country_flag = BRG_DeGrelle_Has_Operation_Bodyguard_Evidence } }
					set_country_flag = BRG_DeGrelle_Has_Operation_Bodyguard_Evidence
				}
		}



		####################################
		#### HASNT BEEN HOME, EVIDENCE 3
		####################################

		### ACTION 1, RAID HOUSE

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Raid_His_House_Operation_Flag }
			hidden_effect = {
				country_event = { id = burgundy_political.7 days = 1 }
				set_country_flag = BRG_Investigation_Failed_Raiding_House
			}
		}

		### ACTION 2, WATCH HQ

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Watch_HQ_Operation_Flag }

				if = {
					limit = { has_country_flag = BRG_DeGrelle_Has_Bunker_42_Evidence }
						hidden_effect = {
							country_event = { id = burgundy_political.9 }
						}
			}

			if = {
				limit = { NOT = { has_country_flag = BRG_DeGrelle_Has_Bunker_42_Evidence } }
				set_country_flag = BRG_DeGrelle_Has_Bunker_42_Evidence
			}
		}

		### ACTION 3, DEMOLISH HOUSE

		if = {
			limit = { has_country_flag = BRG_Investigation_DeGrelle_Demolish_House_Operation_Flag }

				if = {
					limit = { has_country_flag = BRG_DeGrelle_Has_Operation_Bodyguard_Evidence }
						hidden_effect = {
							country_event = { id = burgundy_political.9 }
						}
					}

					if = {
						limit = { NOT = { has_country_flag = BRG_DeGrelle_Has_Operation_Bodyguard_Evidence } }
						set_country_flag = BRG_DeGrelle_Has_Operation_Bodyguard_Evidence
					}
				}
	}
}


BRG_Investigation_StartUp = {

	set_variable = { BRG_Operation_Sucsess_Prediction = 50 }

	if = {
		limit = { has_country_flag = BRG_Investigating_DeGrelle }
		set_variable = { BRG_Temp_Sus_Calc_Var = BRG_Degrelle_Sus }
	}

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_open_flag }
		set_variable = { BRG_Temp_Sus_Calc_Var = BRG_RPY_Sus }
	}

	if = {
		limit = { has_country_flag = BRG_Investigation_CHR_open_flag }
		set_variable = { BRG_Temp_Sus_Calc_Var = BRG_Charla_Sus }
	}

	if = {
		limit = { has_country_flag = BRG_Investigation_WLN_open_flag }
			set_variable = { BRG_Temp_Sus_Calc_Var = BRG_WLN_Sus  }
	}


	divide_variable = { BRG_Temp_Sus_Calc_Var = 2 }

	round_variable = BRG_Temp_Sus_Calc_Var

	subtract_from_variable = { BRG_Operation_Sucsess_Prediction = BRG_Temp_Sus_Calc_Var } ### Sus

	BRG_Domestic_GUI_Clamp = yes
}

BRG_investigations_operation_addition = {


	######### GETTTING THE STARTING VALUE

	set_variable = { BRG_Operation_Sucsess_Prediction = 50 }

	set_variable = { BRG_Temp_Sus_Calc_Var = 0 }

	if = {
		limit = { has_country_flag = BRG_Investigating_DeGrelle }
		set_variable = { BRG_Temp_Sus_Calc_Var = BRG_Degrelle_Sus }
	}

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_open_flag }
		set_variable = { BRG_Temp_Sus_Calc_Var = BRG_RPY_Sus }
	}

	if = {
		limit = { has_country_flag = BRG_Investigation_CHR_open_flag }
		set_variable = { BRG_Temp_Sus_Calc_Var = BRG_Charla_Sus }
	}

	if = {
		limit = { has_country_flag = BRG_Investigation_WLN_open_flag }
		set_variable = { BRG_Temp_Sus_Calc_Var = BRG_WLN_Sus }
	}


	divide_variable = { BRG_Temp_Sus_Calc_Var = 2 }

	round_variable = BRG_Temp_Sus_Calc_Var

	subtract_from_variable = { BRG_Operation_Sucsess_Prediction = BRG_Temp_Sus_Calc_Var } ### Sus

	set_variable = { BRG_Operation_Addition_Temp_var = 0 }

	set_variable = { BRG_Operation_Addition_Temp_var = BRG_Number_Times_Put_Intel_Into_Operation }


	multiply_variable = { BRG_Operation_Addition_Temp_var = 5 }

	add_to_variable = { BRG_Operation_Sucsess_Prediction = BRG_Operation_Addition_Temp_var }

	################# ADDING TO THE INTEL IN OP VAR AND THE SUCSESS VAR

	add_to_variable = { BRG_Used_Intel_In_Operation = 5 }

	add_to_variable = { BRG_Operation_Sucsess_Prediction = 5 }

	##### UPPING THE ADD ON COUNT FOR NEXT TIME

	add_to_variable = { BRG_Number_Times_Put_Intel_Into_Operation = 1 }

	####### DOING SUS SUBTRACTION

	### CLAMPING

	clamp_variable = {
		var = BRG_Operation_Sucsess_Prediction
		min = 0
		max = 100
		}

		BRG_Domestic_GUI_Clamp = yes
}


BRG_investigations_operation_subtraction = {


	######### GETTTING THE STARTING VALUE

	set_variable = { BRG_Operation_Sucsess_Prediction = 50 }

	set_variable = { BRG_Temp_Sus_Calc_Var = 0 }

	if = {
		limit = { has_country_flag = BRG_Investigating_DeGrelle }
		set_variable = { BRG_Temp_Sus_Calc_Var = BRG_Degrelle_Sus }
	}

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_open_flag }
		set_variable = { BRG_Temp_Sus_Calc_Var = BRG_RPY_Sus }
	}

	if = {
		limit = { has_country_flag = BRG_Investigation_CHR_open_flag }
		set_variable = { BRG_Temp_Sus_Calc_Var = BRG_Charla_Sus }
	}

	if = {
		limit = { has_country_flag = BRG_Investigation_WLN_open_flag }
		set_variable = { BRG_Temp_Sus_Calc_Var = BRG_WLN_Sus }
	}


	divide_variable = { BRG_Temp_Sus_Calc_Var = 2 }

	round_variable = BRG_Temp_Sus_Calc_Var

	subtract_from_variable = { BRG_Operation_Sucsess_Prediction = BRG_Temp_Sus_Calc_Var } ### Sus

	set_variable = { BRG_Operation_Addition_Temp_var = 0 }

	set_variable = { BRG_Operation_Addition_Temp_var = BRG_Number_Times_Put_Intel_Into_Operation }


	multiply_variable = { BRG_Operation_Addition_Temp_var = 5 }

	add_to_variable = { BRG_Operation_Sucsess_Prediction = BRG_Operation_Addition_Temp_var }

	################# ADDING TO THE INTEL IN OP VAR AND THE SUCSESS VAR

	subtract_from_variable = { BRG_Used_Intel_In_Operation = 5 }

	subtract_from_variable = { BRG_Operation_Sucsess_Prediction = 5 }

	##### UPPING THE ADD ON COUNT FOR NEXT TIME

	subtract_from_variable = { BRG_Number_Times_Put_Intel_Into_Operation = 1 }

	####### DOING SUS SUBTRACTION

	### CLAMPING

	clamp_variable = {
		var = BRG_Operation_Sucsess_Prediction
		min = 0
		max = 100
		}

		BRG_Domestic_GUI_Clamp = yes
}




BRG_investigations_operations_closing_effect = {

		set_variable = { BRG_Used_Intel_In_Operation = 0 }

		set_variable = { BRG_Operation_Sucsess_Prediction = 0 }

		set_variable = { BRG_Operation_Addition_Temp_var = 0 }

		set_variable = { BRG_Number_Times_Put_Intel_Into_Operation = 0 }

		BRG_Domestic_GUI_Clamp = yes
}


BRG_Investigation_Launcher_effect = {

	set_country_flag = BRG_Currently_Doing_An_Investigation_DeGrelle

	BRG_Investigation_Outcome_Effect = yes

	country_event = { id = burgundy_political.2 }

	subtract_from_variable = { BRG_Gathered_Intelligence = BRG_Used_Intel_In_Operation }

	BRG_investigations_operations_closing_effect = yes

	if = {
		limit = { has_country_flag = BRG_Investigating_DeGrelle }

		set_variable = { BRG_Add_Sus_DeGrelle = 100 }

		subtract_from_variable = { BRG_Add_Sus_DeGrelle = BRG_Operation_Sucsess_Prediction }

		divide_variable = { BRG_Add_Sus_DeGrelle = 5 }

		round_variable = BRG_Add_Sus_DeGrelle

		add_to_variable = { BRG_Degrelle_Sus = BRG_Add_Sus_DeGrelle }

		clamp_variable = {
			var = BRG_Degrelle_Sus
			min = 0
			max = 100
			}

	}

	if = {
		limit = { has_country_flag = BRG_Investigation_RPY_open_flag }

		set_variable = { BRG_Add_Sus_RPY = 100 }

		subtract_from_variable = { BRG_Add_Sus_RPY = BRG_Operation_Sucsess_Prediction }

		divide_variable = { BRG_Add_Sus_RPY = 5 }

		round_variable = BRG_Add_Sus_RPY

		add_to_variable = { BRG_RPY_Sus = BRG_Add_Sus_RPY }

		clamp_variable = {
			var = BRG_RPY_Sus
			min = 0
			max = 100
			}

	}

	if = {
		limit = { has_country_flag = BRG_Investigation_CHR_open_flag }

		set_variable = { BRG_Add_Sus_CHR = 100 }

		subtract_from_variable = { BRG_Add_Sus_CHR = BRG_Operation_Sucsess_Prediction }

		divide_variable = { BRG_Add_Sus_CHR = 5 }

		round_variable = BRG_Add_Sus_CHR

		add_to_variable = { BRG_Charla_Sus = BRG_Add_Sus_CHR }

		clamp_variable = {
			var = BRG_Charla_Sus
			min = 0
			max = 100
			}

	}

	if = {
		limit = { has_country_flag = BRG_Investigation_WLN_open_flag }

		set_variable = { BRG_Add_Sus_WLN = 100 }

		subtract_from_variable = { BRG_Add_Sus_WLN = BRG_Operation_Sucsess_Prediction }

		divide_variable = { BRG_Add_Sus_WLN = 5 }

		round_variable = BRG_Add_Sus_WLN

		add_to_variable = { BRG_WLN_Sus = BRG_Add_Sus_WLN }

		clamp_variable = {
			var = BRG_WLN_Sus
			min = 0
			max = 100
			}

	}

	BRG_Domestic_GUI_Clamp = yes
}

BRG_Investigation_Outcome_Effect = {

	set_variable = { BRG_Investigation_Fail_Chance = 100 }

	subtract_from_variable = { BRG_Investigation_Fail_Chance = BRG_Operation_Sucsess_Prediction }

	random_list = {
		var:BRG_Operation_Sucsess_Prediction = { ### Operation Succseeds
		country_event = { id = burgundy_political.3 days = 14 }
		}

		var:BRG_Investigation_Fail_Chance = { ### Operation fails
			country_event = { id = burgundy_political.4 days = 14 }
		}
	}

	BRG_Domestic_GUI_Clamp = yes
}


BRG_Investigations_Monthly_Calculations = {

	##### INTEL STUFF

	add_to_variable = { BRG_Gathered_Intelligence = BRG_Monthly_Intel_Gain }

	clamp_variable = {
		var = BRG_Gathered_Intelligence
		min = 0
		max  =100
	}

	#### DEGRELLE STUFF

	if = {
		limit = { has_country_flag = BRG_Investigating_DeGrelle }

		add_to_variable = { BRG_Degrelle_Sus = -3 }
	}

	if = {
		limit = { NOT = { has_country_flag = BRG_Investigating_DeGrelle  } }
		add_to_variable = { BRG_Charla_Sus = -3 }
		add_to_variable = { BRG_RPY_Sus = -3 }
		add_to_variable = { BRG_WLN_Sus = -3 }
	}

	BRG_Domestic_GUI_Clamp = yes
}


######################
### Globalplan GUI ###
######################

### Kondor ###

BRG_Kondor_Activate_Costs = {

	if = {
		limit = {
			BRG = {

				#Checks for Equipment
				has_equipment = {infantry_equipment > 499 }
				has_equipment = {support_equipment > 49 }

				#Checks for political power
				has_political_power > 99
			}
		}
		#Political Power
		add_political_power = -100

		#Equip costs
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 500
		}
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = 50
		}

		#Activate GP
		set_variable = {BRG_GP_Kondor_Status_Var = 2}
		TNO_BRG_clear_all_GP_view_flags = yes
		set_country_flag = view_Kondor_actions
		TNO_BRG_main_tree_swap = yes
	}
	hidden_effect = {country_event = {id = BRG_unlock.1000}}
}

BRG_Kondor_Cancel_Refund = {
}

### Wolf ###

BRG_Wolf_Activate_Costs = {
	subtract_from_variable = { BRG_supplies = BRG_gp_activation_cost }
	hidden_effect = {country_event = {id = BRG_unlock.1000}}
}

BRG_Wolf_Cancel_Refund = {

}

### Lowe ###

BRG_Lowe_Activate_Costs = {
	subtract_from_variable = { BRG_supplies = BRG_gp_activation_cost }
	hidden_effect = {country_event = {id = BRG_unlock.1000}}
}

BRG_Lowe_Cancel_Refund = {

}

### Br ###

BRG_Bar_Activate_Costs = {
	subtract_from_variable = { BRG_supplies = BRG_gp_activation_cost }

	if = {
		limit = {
			BRG = {

				#Checks for Equipment
				has_equipment = {infantry_equipment > 499 }
				has_equipment = {support_equipment > 49 }

				#Checks for political power
				has_political_power > 99
			}
		}
		#Political Power
		add_political_power = -100

		#Equip costs
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 500
		}
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = 50
		}

		#Activate GP
		set_variable = {BRG_GP_Bar_Status_Var = 2}
		TNO_BRG_clear_all_GP_view_flags = yes
		set_country_flag = view_Bar_actions
		TNO_BRG_main_tree_swap = yes
	}
	hidden_effect = {country_event = {id = BRG_unlock.1000}}
}

BRG_Bar_Cancel_Refund = {

}

### Drache ###

BRG_Drache_Activate_Costs = {
	subtract_from_variable = { BRG_supplies = BRG_gp_activation_cost }
	hidden_effect = {country_event = {id = BRG_unlock.1000}}
}

BRG_Drache_Cancel_Refund = {

}

### Sonne ###

BRG_Sonne_Activate_Costs = {
	subtract_from_variable = { BRG_supplies = BRG_gp_activation_cost }
	hidden_effect = {country_event = {id = BRG_unlock.1000}}
}

BRG_Sonne_Cancel_Refund = {
}

### Adler ###

BRG_Adler_Activate_Costs = {
	subtract_from_variable = { BRG_supplies = BRG_gp_activation_cost }

	if = {
		limit = {
			BRG = {

				#Checks for Equipment
				has_equipment = {infantry_equipment > 499 }
				has_equipment = {support_equipment > 49 }

				#Checks for political power
				has_political_power > 99
			}
		}
		#Political Power
		add_political_power = -100

		#Equip costs
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 500
		}
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = 50
		}
		#Activate GP
		set_variable = {BRG_GP_Adler_Status_Var = 2}
		TNO_BRG_clear_all_GP_view_flags = yes
		set_country_flag = view_Adler_actions
		TNO_BRG_main_tree_swap = yes
	}
	hidden_effect = {country_event = {id = BRG_unlock.1000}}
}

BRG_Adler_Cancel_Refund = {

}

### Puma ###

BRG_Puma_Activate_Costs = {
	subtract_from_variable = { BRG_supplies = BRG_gp_activation_cost }

	if = {
		limit = {
			BRG = {

				#Checks for Equipment
				has_equipment = {infantry_equipment > 499 }
				has_equipment = {support_equipment > 49 }

				#Checks for political power
				has_political_power > 99
			}
		}
		#Political Power
		add_political_power = -100

		#Equip costs
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 500
		}
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = 50
		}
		#Activate GP
		set_variable = {BRG_GP_Puma_Status_Var = 2}
		TNO_BRG_clear_all_GP_view_flags = yes
		set_country_flag = view_Puma_actions
		TNO_BRG_main_tree_swap = yes
	}
	hidden_effect = {country_event = {id = BRG_unlock.1000}}
}

BRG_Puma_Cancel_Refund = {

}

####Globalplan Supply system

BRG_supply_monthly_pulse = {
	set_temp_variable = { BRG_total_supply_consumption = BRG_supply_consumption }
	add_to_temp_variable = { BRG_total_supply_consumption = BRG_additional_supply_consumption }
	if = { #50% and above = no problem
		limit = { has_stability  > 0.49 }
	}
	else_if = { #Less means higher consumption
		limit = { has_stability  > 0 }
		add_to_temp_variable = { BRG_total_supply_consumption = 1 }
	}
	else_if = { #Less means higher consumption
		limit = { has_stability  > -0.51 }
		add_to_temp_variable = { BRG_total_supply_consumption = 2 }
	}
	else = { #Less means higher consumption
		add_to_temp_variable = { BRG_total_supply_consumption = 3 }
	}
	if = { #50% and above = no problem
		limit = { has_war_support  > 0.49 }
	}
	else_if = { #Less means higher consumption
		limit = { has_war_support  > 0 }
		add_to_temp_variable = { BRG_total_supply_consumption = 1 }
	}
	else_if = { #Less means higher consumption
		limit = { has_war_support  > -0.51 }
		add_to_temp_variable = { BRG_total_supply_consumption = 2 }
	}
	else = { #Less means higher consumption
		add_to_temp_variable = { BRG_total_supply_consumption = 3 }
	}
	subtract_from_variable = { BRG_supplies = BRG_total_supply_consumption }
	if = { #Did you get a deficit?
		limit = { check_variable = { BRG_supplies < 0 } }
		country_event = { id = BRG.100 }
		set_variable = { BRG_supplies = 0 }
	}
	else = { round_variable = BRG_supplies }
	#Check whether a globalplan has been active for several months
	add_to_variable = { BRG_gp_months_counter = 1 }
	add_to_variable = { BRG_progress_towards_next_consumption_increase = 1 }
	if = {
		limit = { check_variable = { BRG_progress_towards_next_consumption_increase > 2 } }
		add_to_variable = { BRG_additional_supply_consumption = 1 }
		set_variable = { BRG_progress_towards_next_consumption_increase = 0 }
	}
	#automatic monthly supply gain decisions code
	if = {
		limit = { 
			has_country_flag  = BRG_buy_supplies_with_workers_and_pp_monthly_pulse_flag 
			has_political_power > 19
			check_variable = { BRG_Skilled_Worker_National_Pop_Reserve > 199 }
		}
		add_to_variable = { BRG_supplies = 1 }
		add_political_power = -20
		subtract_from_variable = { BRG_Skilled_Worker_National_Pop_Reserve = 200 }
	}
	if = {
		limit = { 
			has_country_flag  = BRG_buy_supplies_with_workers_and_money_monthly_pulse_flag 
			check_variable = { BRG_Skilled_Worker_National_Pop_Reserve > 199 }
		}
		add_to_variable = { BRG_supplies = 1 }
		subtract_from_variable = { BRG_Skilled_Worker_National_Pop_Reserve = 200 }
		subtract_from_variable = { money_reserves = 60 }
	}
	if = {
		limit = { 
			has_country_flag  = BRG_buy_supplies_with_workers_and_equipment_monthly_pulse_flag 
			check_variable = { BRG_Skilled_Worker_National_Pop_Reserve > 199 }
			has_equipment  = { infantry_equipment > 299  }
			has_equipment = { support_equipment > 149 }
		}
		add_to_variable = { BRG_supplies = 1 }
		subtract_from_variable = { BRG_Skilled_Worker_National_Pop_Reserve = 200 }
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -300
			producer = BRG
		}
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = -150
			producer = BRG
		}
	}
	if = {
		limit = { 
			has_country_flag  = BRG_buy_supplies_with_equipment_and_money_monthly_pulse_flag 
			has_equipment  = { infantry_equipment > 299  }
			has_equipment = { support_equipment > 149 }
		}
		add_to_variable = { BRG_supplies = 1 }
		subtract_from_variable = { money_reserves = 60 }
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -300
			producer = BRG
		}
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = -150
			producer = BRG
		}
	}
	if = {
		limit = { 
			has_country_flag  = BRG_buy_supplies_with_equipment_and_pp_monthly_pulse_flag
			has_political_power > 19
			has_equipment  = { infantry_equipment > 299  }
			has_equipment = { support_equipment > 149 }
		}
		add_to_variable = { BRG_supplies = 1 }
		add_political_power = -20
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = -300
			producer = BRG
		}
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = -150
			producer = BRG
		}
	}
	if = {
		limit = { 
			has_country_flag  = BRG_buy_supplies_with_money_and_pp_monthly_pulse_flag
			has_political_power > 19
		}
		add_to_variable = { BRG_supplies = 1 }
		add_political_power = -20
		subtract_from_variable = { money_reserves = 60 }
	}
}
